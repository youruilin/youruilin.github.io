<!DOCTYPE html><html lang="[&quot;ja&quot;,&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><style>:root {
  --article-theme-color: #e5a80d;
}</style><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Vue3.2+Vite+Typescript 开发（一） | iooio_blog</title><meta name="author" content="游瑞林"><meta name="copyright" content="游瑞林"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="🥧本文用于个人练习Vue3+Vite+TypeScript技术栈,作为文档进行查询">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue3.2+Vite+Typescript 开发（一）">
<meta property="og:url" content="https://youruilin.github.io/posts/976198b5/index.html">
<meta property="og:site_name" content="iooio_blog">
<meta property="og:description" content="🥧本文用于个人练习Vue3+Vite+TypeScript技术栈,作为文档进行查询">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://youruilin.github.io/img/butterfly-icon.webp">
<meta property="article:published_time" content="2024-10-20T14:21:59.000Z">
<meta property="article:modified_time" content="2025-05-08T09:46:17.000Z">
<meta property="article:author" content="游瑞林">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://youruilin.github.io/img/butterfly-icon.webp"><link rel="shortcut icon" href="/img/favicon_io/android-chrome-192x192.png"><link rel="canonical" href="https://youruilin.github.io/posts/976198b5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>(()=>{
      const saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      
      window.btf = {
        saveToLocal: saveToLocal,
        getScript: (url, attr = {}) => new Promise((resolve, reject) => {
          const script = document.createElement('script')
          script.src = url
          script.async = true
          script.onerror = reject
          script.onload = script.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            script.onload = script.onreadystatechange = null
            resolve()
          }

          Object.keys(attr).forEach(key => {
            script.setAttribute(key, attr[key])
          })

          document.head.appendChild(script)
        }),

        getCSS: (url, id = false) => new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = url
          if (id) link.id = id
          link.onerror = reject
          link.onload = link.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            link.onload = link.onreadystatechange = null
            resolve()
          }
          document.head.appendChild(link)
        }),

        addGlobalFn: (key, fn, name = false, parent = window) => {
          const pjaxEnable = true
          if (!pjaxEnable && key.startsWith('pjax')) return

          const globalFn = parent.globalFn || {}
          const keyObj = globalFn[key] || {}
    
          if (name && keyObj[name]) return
    
          name = name || Object.keys(keyObj).length
          keyObj[name] = fn
          globalFn[key] = keyObj
          parent.globalFn = globalFn
        }
      }
    
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode
      
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"${query} の検索結果が見つかりませんでした。","hits_stats":"${hits} 件の記事が見つかりました"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'コピー成功',
    error: 'コピー失敗',
    noSupport: 'ブラウザが対応していません'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '日',
  dateSuffix: {
    just: 'たった今',
    min: '分前',
    hour: '時間前',
    day: '日前',
    month: 'ヶ月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"繁体字に切り替えました","cht_to_chs":"簡体字に切り替えました","day_to_night":"ダークモードに切り替えました","night_to_day":"ライトモードに切り替えました","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'もっと見る'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue3.2+Vite+Typescript 开发（一）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-05-08 09:46:17'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4684778_zddxn068xgp.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/theme-chalk/index.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><span id="fps"></span><link rel="stylesheet" href="/css/tooltip.css" media="defer" onload="this.media='all'"><div id="myscoll"></div><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="an_music_bg">    </div><div id="web_bg" style="background-image: url(https://raw.githubusercontent.com/youruilin/pic_bed/main/bcg_img/index_test.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/butterfly-icon.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">記事</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">タグ</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">カテゴリ</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-home faa-tada"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat faa-tada"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Gallery/"><i class="fa-fw fas fa-images faa-tada"></i><span> 照片</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><i class="fa-fw fas fa-video faa-tada"></i><span> 电影</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="fa-fw fas fa-laptop faa-tada"></i><span> 我的装备</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw fas fa-heart faa-tada"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-language faa-tada"></i><span> 语言</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/"><i class="fa-fw fas fa-c faa-tada"></i><span> 中文</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/jp/"><i class="fa-fw fas fa-j faa-tada"></i><span> 日本語</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://butterfly.js.org/en/"><i class="fa-fw fas fa-e faa-tada"></i><span> English</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="iooio_blog"><span id="site-name">iooio_blog</span></a><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://youruilin.github.io/Hexo_nav/" title="前往个人导航" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/original/03/a7/945ec4715b14d857227aa23429f7.webp"/><span class="back-menu-item-text">个人导航</span></a><a class="back-menu-item" href="/" rel="external nofollow" title="博客主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/original/27/37/cba78cfecaff456df3d2f40a4ded.webp" style="width: 30px; height: 30px;"/><span class="back-menu-item-text">博客主页</span></a><a class="back-menu-item" href="https://youruilin.github.io/index_blog/" rel="external nofollow" title="前往个人主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img02.anheyu.com/adminuploads/1/2022/04/27/6268e7d9de532.png"/><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" href="http://lychee.iooio.cn:9527/" rel="external nofollow" title="lychee" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/original/3d/44/667fa779ad75e6062e263075a028.webp"/><span class="back-menu-item-text">lychee图床</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="前往博客主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/original/3e/33/45b5e9c7796e9940d0351db5aeb5.webp"/><span class="back-menu-item-text">博客</span></a></div></div></div></div></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-home faa-tada"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat faa-tada"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Gallery/"><i class="fa-fw fas fa-images faa-tada"></i><span> 照片</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><i class="fa-fw fas fa-video faa-tada"></i><span> 电影</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="fa-fw fas fa-laptop faa-tada"></i><span> 我的装备</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><i class="fa-fw fas fa-heart faa-tada"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><i class="fa-fw fas fa-language faa-tada"></i><span> 语言</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/"><i class="fa-fw fas fa-c faa-tada"></i><span> 中文</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/jp/"><i class="fa-fw fas fa-j faa-tada"></i><span> 日本語</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://butterfly.js.org/en/"><i class="fa-fw fas fa-e faa-tada"></i><span> English</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:23px;width:23px;fill:currentColor;position:relative;top:4px" aria-hidden="true"><use xlink:href="#icon-icon-sousuo"></use></svg></a></div><a class="meihua faa-parent animated-hover" onclick="toRandomPost()" title="随机跳转一篇文章" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-feijix"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="ライトモード/ダークモード切り替え" id="nightmode-button"><svg class="faa-tada" style="height:24px;width:24px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">Vue3.2+Vite+Typescript 开发（一）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">作成日</span><time class="post-meta-date-created" datetime="2024-10-20T14:21:59.000Z" title="作成日 2024-10-20 14:21:59">2024-10-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新日</span><time class="post-meta-date-updated" datetime="2025-05-08T09:46:17.000Z" title="更新日 2025-05-08 09:46:17">2025-05-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">総文字数:</span><span class="word-count">1.8w</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">読む時間:</span><span>70分</span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" href="/hexo-ai-summaries/gemini.css">
<div class="post-gemini-ai">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="126" height="20" role="img" class="ai-summary-trigger">
    <style>
      .ai-summary-active .ai-summary-icon-title text:first-of-type {
        display: none !important;
      }

      .ai-summary-active .ai-summary-icon-title text:last-child {
        display: initial !important;
      }

      .ai-summary-active #r rect {
        width: 105px !important;
      }

      .ai-summary-active .ai-summary-rect {
        width: 80px !important;
      }

      .ai-summary-pen {
        opacity: 1;
        animation: ai-wink 2s infinite;
      }

      @keyframes ai-wink {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
    <linearGradient id="s" x2="0" y2="100%">
      <stop offset="0" stop-color="#bbb" stop-opacity=".1" />
      <stop offset="1" stop-opacity=".1" />
    </linearGradient>
    <clipPath id="r">
      <rect width="125" height="20" rx="3" fill="#fff" />
    </clipPath>
    <g clip-path="url(#r)">
      <rect width="25" height="20" fill="#555" />
      <rect class="ai-summary-rect" x="25" width="100" height="20" fill="#007ec6" />
      <rect width="25" height="20" fill="url(#s)" />
    </g>
    <g fill="#fff" text-anchor="middle" font-family="Verdana,Geneva,DejaVu Sans,sans-serif" text-rendering="geometricPrecision" font-size="110" class="ai-summary-icon-title">
      <image class="ai-summary-pen" x="5" y="3" width="14" height="14" xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Im0yMS42NCAzLjY0bC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzJNMTQgN2wzIDNNNSA2djRtMTQgNHY0TTEwIDJ2Mk03IDhIM20xOCA4aC00TTExIDNIOSIvPjwvc3ZnPg==" />
      <text x="750" y="140" transform="scale(.1)" fill="#fff" textLength="900">ai-要約を取得</text>
      <text style="display: none" x="650" y="140" transform="scale(.1)" fill="#fff" textLength="600">文章摘要</text>
    </g>
  </svg>
</div>
<script src="/hexo-ai-summaries/gemini.js"></script>
<div class="note blue no-icon flat"><p>Vue3.2+Vite+Typescript 开发双端招聘全过程系列导航</p>
<ol>
<li>基础环境配置（一）⇦当前位置🪂</li>
<li><a href="/posts/f3ee6f99">可复用的页面交互逻辑（二）</a></li>
<li>个人中心模块（三）</li>
<li>即将闪亮登场..</li>
</ol>
</div>
<h2 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h2><details class="folding-tag" ><summary> 两种项目创建方式现在都是基于 vite </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">create vue</button><button type="button" class="tab"><i class="fas fa-bomb"></i>vite</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>vue3 - 官方推荐 create vue </strong></p><p>create-vue 是一个官方的 Vue 项目脚手架工具，用来快速创建 Vue 3 项目。默认情况下，它使用 Vite 作为构建工具</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm create vue@latest</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">✔ Project name: … &lt;your-project-name&gt;</span><br><span class="line">✔ Add TypeScript? … No / Yes</span><br><span class="line">✔ Add JSX Support? … No / Yes</span><br><span class="line">✔ Add Vue Router for Single Page Application development? … No / Yes</span><br><span class="line">✔ Add Pinia for state management? … No / Yes</span><br><span class="line">✔ Add Vitest for Unit testing? … No / Yes</span><br><span class="line">✔ Add an End-to-End Testing Solution? … No / Cypress / Nightwatch / Playwright</span><br><span class="line">✔ Add ESLint for code quality? … No / Yes</span><br><span class="line">✔ Add Prettier for code formatting? … No / Yes</span><br><span class="line">✔ Add Vue DevTools 7 extension for debugging? (experimental) … No / Yes</span><br><span class="line"></span><br><span class="line">Scaffolding project in ./&lt;your-project-name&gt;...</span><br><span class="line">Done.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 如果不确定是否要开启某个功能，你可以直接按下回车键选择 No。在项目被创建后，通过以下步骤安装依赖并启动开发服务器：</span><br><span class="line">cd &lt;your-project-name&gt;</span><br><span class="line">pnpm install</span><br><span class="line">pnpm run dev</span><br><span class="line"></span><br><span class="line">// 此命令会在 ./dist 文件夹中为你的应用创建一个生产环境的构建版本。</span><br><span class="line">pnpm run build</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h3 id="Vite-を使う理由"><a href="#Vite-を使う理由" class="headerlink" title="Vite を使う理由"></a>Vite を使う理由</h3><h4 id="問題点"><a href="#問題点" class="headerlink" title="問題点"></a>問題点</h4><p>ES モジュールがブラウザーで利用できるようになるまで、開発者はモジュール化された JavaScript を生成するネイティブの仕組みを持っていませんでした。これは、私たちが「バンドル」のコンセプトに慣れ親しんでいる理由でもあります: すなわち、ブラウザーで実行可能なようにソースモジュールをクロール、処理し、連結するツールを使用しています。</p><p>時を経て <a target="_blank" rel="noopener" href="https://webpack.js.org/">webpack</a> や <a target="_blank" rel="noopener" href="https://rollupjs.org/">Rollup</a>、<a target="_blank" rel="noopener" href="https://parceljs.org/">Parcel</a> のようなツールが登場し、フロントエンド開発者の開発体験は大きく向上されました。</p><p>しかしながら、大規模なアプリケーションが作られるようになってくると、取り扱う JavaScript の量は劇的に増加しました。大規模プロジェクトでは、数千ものモジュールが含まれることも珍しくありません。JavaScript ベースのツールを使用していては、いずれパフォーマンスのボトルネックにぶつかります: 開発サーバーを起動するのにやたらと長く待つこともあります（数分かかることさえ！）。また、Hot Module Replacement（HMR）を利用していても、ファイル編集がブラウザーに反映されるまで数秒かかることもあります。フィードバックの遅さが継続することは、開発者の生産性や幸福度に大きな影響を与える可能性があります。</p><p>Vite では新しいエコシステムの進歩を活用し、これらの問題を解決することに取り組んでいます: ブラウザーのネイティブ ES モジュールや、ネイティブにコンパイルされる言語で書かれた先進的な JavaScript ツールの利用です。</p><h3 id="现实问题"><a href="#现实问题" class="headerlink" title="现实问题"></a>现实问题</h3><p>在浏览器支持 ES 模块之前，JavaScript 并没有提供原生机制让开发者以模块化的方式进行开发。这也正是我们对 “打包” 这个概念熟悉的原因：使用工具抓取、处理并将我们的源码模块串联成可以在浏览器中运行的文件。</p><p>时过境迁，我们见证了诸如 <a target="_blank" rel="noopener" href="https://webpack.js.org/">webpack</a>、<a target="_blank" rel="noopener" href="https://rollupjs.org/">Rollup</a> 和 <a target="_blank" rel="noopener" href="https://parceljs.org/">Parcel</a> 等工具的变迁，它们极大地改善了前端开发者的开发体验。</p><p>然而，当我们开始构建越来越大型的应用时，需要处理的 JavaScript 代码量也呈指数级增长。包含数千个模块的大型项目相当普遍。基于 JavaScript 开发的工具就会开始遇到性能瓶颈：通常需要很长时间（甚至是几分钟！）才能启动开发服务器，即使使用模块热替换（HMR），文件修改后的效果也需要几秒钟才能在浏览器中反映出来。如此循环往复，迟钝的反馈会极大地影响开发者的开发效率和幸福感。</p><p>Vite 旨在利用生态系统中的新进展解决上述问题：浏览器开始原生支持 ES 模块，且越来越多 JavaScript 工具使用编译型语言编写。</p><h3 id="遅いサーバー起動"><a href="#遅いサーバー起動" class="headerlink" title="遅いサーバー起動"></a>遅いサーバー起動</h3><p>開発サーバーがコールドスタートするとき、バンドラーベースのビルドセットアップは、アプリケーション全体を提供する前に、アプリケーション全体を隅々までクロールしてビルドする必要があります。</p><p>Vite はまず最初にアプリケーションのモジュールを 2 つのカテゴリーに分割することで、開発サーバーの起動時間を改善します: <strong>依存関係</strong>と<strong>ソースコード</strong>です。</p><ul><li><p><strong>依存関係</strong>の大部分は開発中あまり変更されないプレーンな JavaScript です。巨大な依存関係の中には、処理コストが極めて高いものがあります（例: 100 ものモジュールを持つコンポーネントライブラリー）。依存関係は、様々なモジュール形式で出力されることがあります（例: ESM または CommonJS）。</p><p>Vite は、<a target="_blank" rel="noopener" href="https://esbuild.github.io/">esbuild</a> を使用して<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/dep-pre-bundling">依存関係の事前バンドル</a>を行います。esbuild は Go 言語によって開発されており、依存関係の事前バンドルは、JavaScript ベースよりも 10 倍から 100 倍高速です。</p></li><li><p><strong>ソースコード</strong>には変換を必要とするプレーンな JavaScript ではないものが含まれることがよくあり、頻繁に編集されます（例: JSX、CSS や Vue/Svelte コンポーネント）。また、全てのソースコードを同時に読み込む必要はありません（例: ルーティングによるコード分割）。</p><p>Vite は、<a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Guide/Modules">ネイティブ ESM</a> を行使してソースコードを提供します。ブラウザーは、実質的にバンドラーの仕事の一部を引き受けます: Vite はブラウザーのリクエストに応じて、ソースコードを変換し提供するのみになります。条件で囲われている動的インポートのコードは、現在の画面で使われる場合のみ処理されます。</p></li></ul><p>バンドルベースの開発サーバーentry···routeroutemodulemodulemodulemodule···BundleServer ready</p><p>ネイティブ ESM ベースの開発サーバーentry···routeroutemodulemodulemodulemodule···Server ready動的インポート （コード分割点）HTTP リクエスト</p><h3 id="遅い更新速度"><a href="#遅い更新速度" class="headerlink" title="遅い更新速度"></a>遅い更新速度<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/why.html#%E9%81%85%E3%81%84%E6%9B%B4%E6%96%B0%E9%80%9F%E5%BA%A6"></a></h3><p>バンドラーベースのビルドセットアップでファイルが編集されたとき、全てのバンドルを再構築することが非効率なことは明白です: 更新スピードはアプリケーションのサイズに応じて線形的に低下してしまうからです。</p><p>バンドラーの中には開発サーバーがメモリー上でバンドルを実行し、ファイルが変更されたときにモジュールグラフの一部のみ無効化して再処理を行うものも存在しますが、それでもバンドル全体を再構築して、ウェブページをリロードしなければなりません。バンドルの再構築にはコストがかかりますし、ページがリロードされるとアプリケーションの現在の状態は消えてしまいます。そのため、幾つかのバンドラーは HMR（ホットモジュールリプレースメント）をサポートしています: これにより、ページの変更に関係のない部分には影響を与えることなく、モジュールを「ホットリプレース」することができます。これは開発者体験を大きく改善します。- しかしながら、実際には HMR でもアプリケーションが大きくなるにつれ更新速度が著しく悪化することが分かってきました。</p><p>Vite では、HMR をネイティブ ESM 上で行います。ファイルが編集されたとき、Vite は編集されたモジュールと最も近い HMR バウンダリ間のつながりを正確に無効化することで（大抵はモジュール本体だけです）、HMR による更新はアプリケーションのサイズに関係なく一貫して高速で実行されます。</p><p>また、Vite は HTTP ヘッダーを活用して、フルページのリロードも高速化します（ここでも、ブラウザーにはもっと働いてもらいます）: ソースコードモジュールのリクエストでは <code>304 Not Modified</code> を利用して条件が作成されます。そして、依存モジュールのリクエストでは、一度キャッシュされたものが再びサーバーにヒットしないよう、<code>Cache-Control: max-age=31536000,immutable</code> を利用して積極的にキャッシュされます。</p><p>超高速な Vite を一度体験してしまうと、バンドルでの開発にまた耐えられるかはとても疑わしいです。</p><h3 id="プロダクションではバンドルする理由"><a href="#プロダクションではバンドルする理由" class="headerlink" title="プロダクションではバンドルする理由"></a>プロダクションではバンドルする理由<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/why.html#%E3%83%95%E3%82%9A%E3%83%AD%E3%82%BF%E3%82%99%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A6%E3%82%99%E3%81%AF%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%E3%83%AB%E3%81%99%E3%82%8B%E7%90%86%E7%94%B1"></a></h3><p>ネイティブ ESM が広くサポートされるようになっても、バンドルされていない ESM をプロダクション用にリリースすることは非効率です（HTTP/2 を利用していても）。これは、ネットワークのラウンドトリップの増加がネストされたインポートによって引き起こされるためです。プロダクションでは最適化されたローディングパフォーマンスを得るために、ツリーシェイキングや遅延読み込み、（キャッシュ改善のための）共通コード分割などの技術を用いつつバンドルを行うことは、より良いことです。</p><p>開発サーバーとプロダクションビルド間で、最適化された出力と一貫した動作を確保することは容易なことではありません。そのため、Vite にはあらかじめ調整された<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/build">ビルドコマンド</a>が用意されており、これには従来の常識を破る多くの<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/features#build-optimizations">パフォーマンス最適化</a>が施されています。</p><h3 id="なぜ-esbuild-でバンドルしないのか？"><a href="#なぜ-esbuild-でバンドルしないのか？" class="headerlink" title="なぜ esbuild でバンドルしないのか？"></a>なぜ esbuild でバンドルしないのか？<a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/why.html#%E3%81%AA%E3%81%9B%E3%82%99-esbuild-%E3%81%A6%E3%82%99%E3%83%8F%E3%82%99%E3%83%B3%E3%83%88%E3%82%99%E3%83%AB%E3%81%97%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B"></a></h3><p>Vite は <a target="_blank" rel="noopener" href="https://ja.vite.dev/guide/dep-pre-bundling">開発環境で一部の依存関係を事前バンドルする</a>ために esbuild を活用していますが、本番ビルドのためのバンドラーとしては esbuild を利用しません。</p><p>Vite の現在のプラグイン API は、<code>esbuild</code> をバンドラーとして使用することと互換性がありません。<code>esbuild</code> の方が速いにもかかわらず、Vite は Rollup の柔軟なプラグイン API とインフラストラクチャーを採用し、エコシステムでの成功に大きく貢献しました。当面は、Rollup の方がパフォーマンスと柔軟性のトレードオフに優れていると考えています。</p><p>Rollup はパフォーマンスの向上にも取り組んでおり、<a target="_blank" rel="noopener" href="https://github.com/rollup/rollup/pull/5073">v4 でパーサーを SWC に切り替えました</a>。 そして、Rolldown と呼ばれる Rollup の Rust ポートを構築する取り組みが進行中です。 Rolldown の準備が完了すると、Vite の Rollup と esbuild の両方が置き換えられ、ビルドのパフォーマンスが大幅に向上し、開発とビルドの間の不一致が解消されます。 <a target="_blank" rel="noopener" href="https://youtu.be/hrdwQHoAp0M">詳細については、Evan You の ViteConf 2023 基調講演</a> をご覧ください。</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="什么是TypeScript"><a href="#什么是TypeScript" class="headerlink" title="什么是TypeScript?"></a>什么是TypeScript?</h2><details class="folding-tag" ><summary> TypeScript 是具有类型语法的 JaveScript - 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">示例1</button><button type="button" class="tab">示例2</button><button type="button" class="tab">示例3</button><button type="button" class="tab">基础概念</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>示例1.</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Result</span> = <span class="string">&quot;pass&quot;</span> | <span class="string">&quot;fail&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">verify</span>(<span class="params"><span class="attr">result</span>: <span class="title class_">Result</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (result === <span class="string">&quot;pass&quot;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Passed&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    consle.<span class="title function_">log</span>(<span class="string">&quot;Failed&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>示例 2.</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">hello</span> = names =&gt;&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi,<span class="subst">$&#123;names&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">hello</span>(<span class="string">&#x27;luffy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上相当于定义了一个函数 hello，它接收一个参数 names，并在函数体中使用该参数来输出消息。</span></span><br><span class="line"><span class="comment">// 以下为原始写法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params">names</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi, <span class="subst">$&#123;names&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">hello</span>(<span class="string">&#x27;luffy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 两者在定义参数上本质是一样的，都是在函数调用时传入参数。但箭头函数的语法更简洁，特别是当只有一个参数且函数体只有一行时，可以直接省略大括号 &#123;&#125;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>示例 3.</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函数参数类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">hello</span> = (<span class="params"><span class="attr">name</span>: <span class="built_in">string</span></span>)  =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi, <span class="subst">$&#123;names&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">hello0</span>(<span class="number">666</span>)</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>基础概念.</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 基础类型: 字符串, 数字, 布尔</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="string">&#x27;Hello world&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">num</span>: <span class="built_in">number</span> =  <span class="number">1</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">bool</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//复杂类型: 数组, 对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr</span>: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: &#123; <span class="attr">x</span>: <span class="built_in">number</span>; <span class="attr">y</span>: <span class="built_in">number</span> &#125; = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">optionalObj</span>: &#123; <span class="attr">x</span>: <span class="built_in">number</span>; y?: <span class="built_in">number</span> &#125; = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line">optionalObj.<span class="property">y</span> = <span class="string">&#x27;y&#x27;</span></span><br><span class="line">optionalObj.<span class="property">y</span> = <span class="number">2</span></span><br><span class="line">optionalObj.<span class="property">z</span> = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象类型: 匿名, 接口 interface, 类型别名 type</span></span><br><span class="line"><span class="comment">// 接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IType</span> &#123;</span><br><span class="line">  <span class="attr">str</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型别名</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TType</span> = &#123;</span><br><span class="line">  <span class="attr">str</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型推断</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型断言</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((x.<span class="property">contents</span> <span class="keyword">as</span> <span class="built_in">string</span>).<span class="title function_">toLowerCase</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 泛型, 包括泛型对象类型\泛型函数\泛型类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IGeneric</span>&lt;<span class="title class_">Type</span>&gt;&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="title class_">Type</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 IGeneric，并指定 Type 为 string 类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">stringGeneric</span>: <span class="title class_">IGeneric</span>&lt;<span class="built_in">string</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="string">&quot;Hello&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 IGeneric，并指定 Type 为 number 类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">numberGeneric</span>: <span class="title class_">IGeneric</span>&lt;<span class="built_in">number</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="number">123</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 特殊类型: void\any\unknow\never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><details class="folding-tag" ><summary> create vue 基于vite 内置了 ts 依赖 可忽略这个步骤 - 点击查看详情 </summary>
              <div class='content'>
              <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 0. 初始化项目，新建package.json</span><br><span class="line"><span class="built_in">mkdir</span> <span class="built_in">test</span></span><br><span class="line">npm init</span><br><span class="line"></span><br><span class="line">// 1. 安装 typescript</span><br><span class="line">npm install typecript -D</span><br><span class="line"></span><br><span class="line">如果 npm 慢，可以使用 cnpm</span><br><span class="line">npm install -g cnpm </span><br><span class="line"></span><br><span class="line">// 2.将 ts 编译成 js</span><br><span class="line">// 其中 npx 允许使用安装在局部的包</span><br><span class="line">npx tsc 文件名.ts</span><br><span class="line"></span><br><span class="line">// 3. 新建一个 tsconfig.json</span><br><span class="line">npx tsc --init</span><br></pre></td></tr></table></figure>
              </div>
            </details>
<h2 id="git协作"><a href="#git协作" class="headerlink" title="git协作"></a>git协作</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">需求协作</button><button type="button" class="tab">多人协作</button><button type="button" class="tab"><i class="fas fa-bomb"></i>git 常用命令</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>我们在开发大型项目时，会同时开发多个需求</strong></p><p>git 提供了 branch（分支）功能 - 本质为指向 commit 节点对象的一个指针，当我们新建分支时，实际上是新建了一个指针并指向了当前 commit</p><p>分支操作</p><ul><li><strong><code>git branch</code></strong>：列出本地分支。</li><li><strong><code>git branch &lt;branch-name&gt;</code></strong>：创建新分支。</li><li><strong><code>git checkout &lt;branch-name&gt;</code></strong>：切换到指定分支。</li><li><strong><code>git checkout -b &lt;branch-name&gt;</code></strong>：创建并切换到新分支。</li><li><strong><code>git merge &lt;branch-name&gt;</code></strong>：合并其他分支到当前分支。</li><li><strong><code>git branch -d &lt;branch-name&gt;</code></strong>：删除本地分支。</li></ul></div><div class="tab-item-content"><p><strong>大型项目，往往需要跟其他人一起协作</strong></p><ol><li>git 分支合并</li></ol><p>将一个分支上的代码合并进当前分支</p><p><code>git fetch origin</code> 是用于从远程仓库获取最新的提交到本地的命令。具体含义如下：</p><ul><li><code>git fetch</code>：从远程仓库中抓取（fetch）所有分支的更新，获取远程仓库中的最新提交和引用（tags、branches 等），但不会修改本地工作目录，也不会自动合并这些更新。</li><li><code>origin</code>：是默认远程仓库的名称，表示你想要从 <code>origin</code> 这个远程仓库获取更新。通常，<code>origin</code> 是你在 <code>git clone</code> 时默认创建的远程仓库别名。</li></ul><ol><li>使用场景</li></ol><p><code>git fetch origin</code> 常用于以下场景：</p><ul><li>你想了解远程仓库的最新变化，但暂时不想合并这些更改到当前分支中。</li><li>配合其他命令（如 <code>git merge</code> 或 <code>git rebase</code>）来手动处理从远程分支获取的更新。</li></ul><ol><li>命令工作流程</li></ol><ul><li>执行 <code>git fetch origin</code>，Git 会连接到 <code>origin</code> 远程仓库并下载所有分支的最新提交和引用。</li><li>这些更新会保存到你本地仓库的远程分支中，例如 <code>origin/main</code>，而不会影响你当前的分支或工作目录。</li></ul></div><div class="tab-item-content"><ol><li>初始化和克隆仓库</li></ol><ul><li><strong><code>git init</code></strong>：初始化一个新的 Git 仓库。</li><li><strong><code>git clone &lt;repository-url&gt;</code></strong>：克隆远程仓库到本地。</li></ul><ol><li>查看仓库状态</li></ol><ul><li><strong><code>git status</code></strong>：查看当前分支的状态，显示已修改但未提交的文件。</li><li><strong><code>git log</code></strong>：查看提交历史。</li><li><strong><code>git diff</code></strong>：显示未提交的变更。</li></ul><ol><li>分支操作</li></ol><ul><li><strong><code>git branch</code></strong>：列出本地分支。</li><li><strong><code>git branch &lt;branch-name&gt;</code></strong>：创建新分支。</li><li><strong><code>git checkout &lt;branch-name&gt;</code></strong>：切换到指定分支。</li><li><strong><code>git checkout -b &lt;branch-name&gt;</code></strong>：创建并切换到新分支。</li><li><strong><code>git merge &lt;branch-name&gt;</code></strong>：合并其他分支到当前分支。</li><li><strong><code>git branch -d &lt;branch-name&gt;</code></strong>：删除本地分支。</li></ul><ol><li>提交和推送代码</li></ol><ul><li><strong><code>git add &lt;file&gt;</code></strong>：添加文件到暂存区。</li><li><strong><code>git add .</code></strong>：添加所有修改的文件到暂存区。</li><li><strong><code>git commit -m &quot;&lt;message&gt;&quot;</code></strong>：提交暂存区中的文件，附带提交信息。</li><li><strong><code>git push</code></strong>：将本地分支推送到远程仓库。</li><li><strong><code>git push origin &lt;branch-name&gt;</code></strong>：将指定分支推送到远程仓库。</li></ul><ol><li>更新和拉取代码</li></ol><ul><li><strong><code>git pull</code></strong>：从远程仓库拉取最新的更改，并合并到当前分支。</li><li><strong><code>git fetch</code></strong>：拉取远程仓库的最新内容但不合并，通常与 <code>git merge</code> 一起使用。</li></ul><ol><li>冲突解决</li></ol><ul><li><strong><code>git mergetool</code></strong>：使用外部工具来帮助解决合并冲突。</li><li><strong><code>git diff --base &lt;file&gt;</code></strong>：查看冲突文件的基础版本。</li><li><strong><code>git add &lt;file&gt;</code></strong>：在解决冲突后，使用该命令标记冲突已解决。</li></ul><ol><li>远程仓库管理</li></ol><ul><li><strong><code>git remote -v</code></strong>：查看当前配置的远程仓库。</li><li><strong><code>git remote add &lt;name&gt; &lt;url&gt;</code></strong>：添加新的远程仓库。</li><li><strong><code>git remote rm &lt;name&gt;</code></strong>：删除指定的远程仓库。</li></ul><ol><li>回滚和撤销</li></ol><ul><li><strong><code>git reset --hard &lt;commit-hash&gt;</code></strong>：将当前分支重置到指定提交。</li><li><strong><code>git revert &lt;commit-hash&gt;</code></strong>：撤销指定提交，并生成一个新的提交来记录此次撤销。</li><li><strong><code>git reset HEAD &lt;file&gt;</code></strong>：将文件从暂存区移除，但保留修改。</li></ul><ol><li>协作工作流相关</li></ol><ul><li><strong><code>git stash</code></strong>：临时保存当前工作区的修改，用于切换分支或拉取代码时避免冲突。</li><li><strong><code>git stash pop</code></strong>：恢复保存的工作区修改。</li><li><strong><code>git rebase &lt;branch-name&gt;</code></strong>：将当前分支变基到指定分支之上。</li></ul><ol><li>标签</li></ol><ul><li><strong><code>git tag &lt;tag-name&gt;</code></strong>：为当前提交打标签。</li><li><strong><code>git push origin &lt;tag-name&gt;</code></strong>：将标签推送到远程仓库。</li></ul></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="git-hooks"><a href="#git-hooks" class="headerlink" title="git hooks"></a>git hooks</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">基础概念</button><button type="button" class="tab">初始化</button><button type="button" class="tab"><i class="fas fa-bomb"></i>commitlint</button><button type="button" class="tab">开始使用</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>什么是 git hooks</strong></p><p><code>Git hooks</code> 是 Git 提供的一种机制，允许在 Git 仓库中的特定事件发生时执行自定义脚本。它可以帮助开发者在进行一些操作时触发自动化流程，例如提交代码前自动检查代码风格、提交后通知某个服务等。</p><p>Git hooks 的作用</p><p>Git hooks 是本地钩子，它们与代码仓库一起存在，并在特定的 Git 事件（如提交、推送、合并等）触发时自动执行，典型的应用包括：</p><ul><li><strong>提交前代码检查</strong>：在提交代码之前自动运行测试或检查代码风格。</li><li><strong>提交信息规范化</strong>：确保提交信息遵循一定的格式。</li><li><strong>自动部署</strong>：在推送代码到远程仓库后，自动触发部署脚本。</li></ul><p>Git hooks 的分类</p><p>Git hooks 分为两大类：</p><ol><li><strong>客户端钩子（Client-Side Hooks）</strong>：主要在本地开发阶段触发，影响的是开发者的本地仓库行为。例如，提交前的检查、提交后的动作。</li><li><strong>服务端钩子（Server-Side Hooks）</strong>：主要在服务器端 Git 仓库中触发，影响的是推送到远程仓库的操作。例如，禁止推送不符合规定的提交或自动化部署等。</li></ol><p>常用的 Git hooks</p><p>Git hook 是存放在 <code>.git/hooks/</code> 目录下的一组脚本，以下是一些常用的钩子事件：</p><ol><li><strong>pre-commit</strong></li></ol><ul><li><strong>触发时机</strong>：在执行 <code>git commit</code> 前触发。</li><li><strong>用途</strong>：可以用来检查代码格式、运行测试或阻止提交不符合规范的代码。</li></ul><ol><li><strong>commit-msg</strong></li></ol><ul><li><strong>触发时机</strong>：在提交信息编辑完毕后执行。</li><li><strong>用途</strong>：用来检查提交信息是否符合规范，如确保每次提交信息都有相应的 issue 编号或规定格式。</li></ul><ol><li><strong>pre-push</strong></li></ol><ul><li><strong>触发时机</strong>：在执行 <code>git push</code> 前触发。</li><li><strong>用途</strong>：可以用来阻止推送某些特定分支、运行测试等。</li></ul><ol><li><strong>post-commit</strong></li></ol><ul><li><strong>触发时机</strong>：在提交完成后触发。</li><li><strong>用途</strong>：可以用于记录提交日志、发送通知或触发 CI（持续集成）服务。</li></ul><ol><li><strong>pre-receive</strong></li></ol><ul><li><strong>触发时机</strong>：在服务端接收到推送请求但未处理前触发。</li><li><strong>用途</strong>：在服务器端用于验证推送的代码，如确保符合公司标准，或防止特定分支的推送。</li></ul><ol><li><strong>post-receive</strong></li></ol><ul><li><strong>触发时机</strong>：在服务器端接受推送并处理后触发。</li><li><strong>用途</strong>：常用于触发自动化部署、发送推送通知等。</li></ul></div><div class="tab-item-content"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// install</span></span><br><span class="line">pnpm add --save-dev husky</span><br><span class="line"><span class="comment">// husky init</span></span><br><span class="line">pnpm exec husky init</span><br><span class="line"></span><br><span class="line"><span class="comment">// 参见官方文档：https://typicode.github.io/husky/get-started.html</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>为什么需要 commitlint?</strong></p><p>产生大量的 commit 版本后，良好的 commit 信息可帮我们更好的回顾或回退版本</p><p><strong>如何规范?</strong></p><ol><li><p>提供一套规范来约束项目的 commit 信息；</p><p>type(scope?): subject  </p><p><code>type(scope?): subject</code> 是一种规范化的 Git 提交信息格式，通常用于 <strong>Conventional Commits</strong> 规范。这种格式有助于标准化提交信息，明确每次提交的意图。下面简述各部分的含义：</p><ol><li><strong>type (必填)</strong></li></ol><p><code>type</code> 表示提交的<strong>类型</strong>，用于描述这次提交的目的或性质。常见的 <code>type</code> 包括：</p><ul><li><code>feat</code>：新增功能（feature）。</li><li><code>fix</code>：修复 bug。</li><li><code>docs</code>：文档变更。</li><li><code>style</code>：代码格式变更（不影响代码逻辑的变动，如空格、格式等）。</li><li><code>refactor</code>：代码重构（不包括新增功能或修复 bug 的变动）。</li><li><code>test</code>：添加或修改测试。</li><li><code>chore</code>：非代码逻辑的变动（如构建任务、工具配置等）。</li></ul><ol><li><strong>scope (可选)</strong></li></ol><p><code>scope</code> 用来标明<strong>本次提交影响的模块或功能的范围</strong>。通常是项目中的某个特定功能、模块或子系统，帮助团队成员明确该提交的影响范围。</p><ul><li>例子：<ul><li><code>feat(user)</code>: 影响用户模块。</li><li><code>fix(auth)</code>: 影响身份认证模块。</li></ul></li></ul><p><strong>注意：</strong> <code>scope</code> 是可选的，如果不需要指定具体的模块范围，可以省略。</p><ol><li><strong>subject (必填)</strong></li></ol><p><code>subject</code> 是对本次提交的<strong>简要描述</strong>，用于说明提交内容。需要注意的是：</p><ul><li>使用简洁明了的语言。</li><li>应该以<strong>动词</strong>开头，通常是<strong>祈使句</strong>形式，如 “add”，”fix”，”update” 等。</li><li><strong>不要以大写字母开头</strong>，且不要以句号结尾。</li></ul><p><strong>例子：</strong></p><ul><li><code>feat(auth): add login functionality</code> (新增了登录功能)。</li><li><code>fix(user): resolve issue with profile picture upload</code> (修复了头像上传的问题)。</li></ul></li></ol></div><div class="tab-item-content"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 那当然需要先安装下</span></span><br><span class="line">pnpm add --save-dev @commitlint/&#123;cli,config-conventional&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这句话的意思，是将标的字符串内容写进 &gt; 指向的文件当中，如果不存在该文件，则自动创建该文件</span></span><br><span class="line">echo <span class="string">&quot;export default &#123; extends: [&#x27;@commitlint/config-conventional&#x27;] &#125;;&quot;</span> &gt; commitlint.<span class="property">config</span>.<span class="property">js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Add commit message linting to commit-msg hook</span></span><br><span class="line">echo <span class="string">&quot;pnpm dlx commitlint --edit \$1&quot;</span> &gt; .<span class="property">husky</span>/commit-msg</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这行命令是 Unix/Linux 系统中的 chmod 命令，用于更改文件或目录的权限</span></span><br><span class="line"><span class="comment">// Windows 系统中使用 husky，可以跳过 chmod 步骤。Windows 文件系统默认不需要像 Unix 系统那样手动设置文件执行权限，Husky 的钩子应该可以正常工作。</span></span><br><span class="line">chmod a+x .<span class="property">husky</span>/commit-msg</span><br></pre></td></tr></table></figure><ul><li><strong>chmod</strong>：这是改变文件权限的命令。</li><li><strong>a+x</strong>：表示给所有用户（<code>a</code> 是 “all” 的意思，包括用户本人、用户组和其他用户）添加执行权限（<code>+x</code> 表示增加执行权限）。</li><li><strong>.husky/commit-msg</strong>：这是文件路径，表示你要更改权限的文件。这个文件是 <code>husky</code> 钩子脚本，用来检查提交信息（commit message）。</li></ul><p>作用</p><p>这条命令的作用是让 <code>.husky/commit-msg</code> 文件可以被执行。<code>commit-msg</code> 是 <code>husky</code> 钩子，用来在 Git 提交时自动检查提交信息是否符合规范。让这个文件具有执行权限后，Git 在提交时可以调用并运行这个脚本。</p><p>一般在设置 <code>husky</code> 钩子时，需要给相应的钩子文件（如 <code>commit-msg</code>、<code>pre-commit</code> 等）赋予执行权限，否则这些钩子无法运行。</p><p>commit-msg</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;</span><br><span class="line"></span><br><span class="line">pnpm dlx commitlint --edit &quot;$1&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pre-commit</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;</span><br><span class="line"></span><br><span class="line"># 这里挺操蛋的, 在配置具体 prettier 规则之前, 这里的npm test 处于未配置状态, 引起报错</span><br><span class="line">#npm test</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="rem适配-amp-amp-路径别名"><a href="#rem适配-amp-amp-路径别名" class="headerlink" title="rem适配 &amp;&amp; 路径别名"></a>rem适配 &amp;&amp; 路径别名</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">rem 适配</button><button type="button" class="tab">路径别名</button></div><div class="tab-contents"><div class="tab-item-content active"><p>/src/utils/rem.ts</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 基准大小</span></span><br><span class="line"><span class="keyword">const</span> baseSize = <span class="number">37.5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setRem</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> scale = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span> / <span class="number">750</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">fontSize</span> = baseSize * <span class="title class_">Math</span>.<span class="title function_">min</span>(scale, <span class="number">1</span>) + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="title function_">setRem</span>()</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">setRem</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> baseSize</span><br><span class="line"></span><br><span class="line"><span class="comment">// 然后在 main.ts 中：</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/utils/rem&#x27;</span> <span class="comment">// 引入 rem 适配方案</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p>tsconfig.app.json 文件中需要配置别名路径</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;@vue/tsconfig/tsconfig.dom.json&quot;</span>,</span><br><span class="line">  <span class="string">&quot;include&quot;</span>: [<span class="string">&quot;env.d.ts&quot;</span>, <span class="string">&quot;src/**/*&quot;</span>, <span class="string">&quot;src/**/*.vue&quot;</span>,<span class="string">&quot;src/**/*.ts&quot;</span>,<span class="string">&quot;src/**/*.d.ts&quot;</span>,<span class="string">&quot;src/**/*.tsx&quot;</span>,],</span><br><span class="line">  <span class="string">&quot;exclude&quot;</span>: [<span class="string">&quot;src/**/__tests__/*&quot;</span>],</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;composite&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;tsBuildInfoFile&quot;</span>: <span class="string">&quot;./node_modules/.tmp/tsconfig.app.tsbuildinfo&quot;</span>,</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="comment">// 这里配置了路径别名</span></span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@/*&quot;</span>: [<span class="string">&quot;./src/*&quot;</span>],</span><br><span class="line">      <span class="string">&quot;@&quot;</span>: [<span class="string">&quot;./src&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;noImplicitAny&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;allowJs&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;skipLibCheck&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="eslint，prettier"><a href="#eslint，prettier" class="headerlink" title="eslint，prettier"></a>eslint，prettier</h2><details class="folding-tag" ><summary> 代码规范标准 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">eslint</button><button type="button" class="tab">prettier</button><button type="button" class="tab"><i class="fas fa-bomb"></i>ESLint + Prettier 配置</button><button type="button" class="tab">eslint stylist 规则冲突问题</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>在运行代码前，发现语法错误和潜在bug</strong></p><p>允许定制自己的代码规范</p><p>ESLint规则的三个等级：off、warn、error</p><p><code>ESlint</code>扩展会优先去查找项目根目录中的<code>eslint.config.js</code> 配置文件，并且包括配置文件所提到的<code>ESlint</code>插件，也就是<code>npm</code>依赖包，是的没错，<code>ESlint</code>扩展本身所需的<code>ESlint</code> 版本和<code>ESlint</code>插件，都是来自于<code>node_modules</code>，你可以试着把这个目录删了，<code>vscode</code>中的<code>ESlint</code>扩展就会报错，无法运行。</p><p>但你启用<code>vscode</code>中的<code>ESlint</code>扩展之后，并不会对所有文件生效，你还需要配置<code>ESlint</code>扩展的设置来对所需的文件启用校验。</p><p>这里建议为每个项目单独添加vscode独有的设置，也就是项目根目录中创建一个<code>.vscode</code>目录，里面放置一个<code>settings.json</code>文件，这样<code>vscode</code>就会优先读取该设置：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// .vscode/settings.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;eslint.validate&quot;: [</span><br><span class="line">    &quot;javascript&quot;,</span><br><span class="line">    &quot;vue&quot;,</span><br><span class="line">    &quot;vue-html&quot;,</span><br><span class="line">    &quot;typescript&quot;,</span><br><span class="line">    &quot;typescriptreact&quot;,</span><br><span class="line">    &quot;html&quot;,</span><br><span class="line">    &quot;css&quot;,</span><br><span class="line">    &quot;scss&quot;,</span><br><span class="line">    &quot;less&quot;,</span><br><span class="line">    &quot;json&quot;,</span><br><span class="line">    &quot;jsonc&quot;,</span><br><span class="line">    &quot;json5&quot;,</span><br><span class="line">    &quot;markdown&quot;</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样一来，配置中所提到的文件格式，都会被<code>ESlint</code>扩展识别。</p><p>到这里，ESlint基本算是可以正常使用了，でも，ちょうど待ってください，<code>prettier</code>がありますね。</p></div><div class="tab-item-content"><p><strong>用于检测代码中的格式问题</strong></p><p>ESLint 是侧重对项目代码质量的把控，而Prettier更侧重于统一项目的代码风格</p><p>因此，两者配合一起使用，比较好。</p></div><div class="tab-item-content"><p><strong>ESLint9之后，原有的配置文件已经被弃用</strong></p><p>在我还不知道如何从0开始配置ESlint的时候，ESlint已经更新到9.x了。</p><div class="btns rounded grid5">            <a class="button" target="_blank" rel="noopener" href='https://eslint.nodejs.cn/docs/latest/use/configure/migration-guide' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div><p><p>总而言之，从ESlint9.x开始，在使用create vue 创建项目后，如果选中了eslint，那么项目中生成的文件为 eslint.config.js（ESNext）或者eslint.config.mjs（CommonJS）命名的配置文件。</p><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 依赖包安装</span><br><span class="line">pnpm add eslint @eslint/js globals typescript-eslint eslint-plugin-vue @stylistic/eslint-plugin eslint-plugin-prettier -D</span><br></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import eslint from &#x27;@eslint/js&#x27;</span><br><span class="line">import globals from &#x27;globals&#x27;</span><br><span class="line">import tseslint from &#x27;typescript-eslint&#x27;</span><br><span class="line">import eslintPluginVue from &#x27;eslint-plugin-vue&#x27;</span><br><span class="line">import stylistic from &#x27;@stylistic/eslint-plugin&#x27;</span><br><span class="line">import eslintPluginPrettierRecommended from &#x27;eslint-plugin-prettier/recommended&#x27;</span><br><span class="line"></span><br><span class="line">export default tseslint.config(</span><br><span class="line">  &#123;</span><br><span class="line">    ignores: [&#x27;node_modules&#x27;, &#x27;dist&#x27;, &#x27;public&#x27;]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /** js推荐配置 */</span><br><span class="line">  eslint.configs.recommended,</span><br><span class="line">  /** ts推荐配置 */</span><br><span class="line">  ...tseslint.configs.recommended,</span><br><span class="line">  /** vue推荐配置 */</span><br><span class="line">  ...eslintPluginVue.configs[&#x27;flat/recommended&#x27;],</span><br><span class="line"></span><br><span class="line">  stylistic.configs.customize(&#123;</span><br><span class="line">    indent: 2,</span><br><span class="line">    quotes: &#x27;single&#x27;,</span><br><span class="line">    semi: false,</span><br><span class="line">    jsx: true,</span><br><span class="line">    braceStyle: &#x27;1tbs&#x27;,</span><br><span class="line">    arrowParens: &#x27;always&#x27;</span><br><span class="line">  &#125;),</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * javascript 规则</span><br><span class="line">   */</span><br><span class="line">  &#123;</span><br><span class="line">    files: [&#x27;**/*.&#123;js,mjs,cjs,vue&#125;&#x27;],</span><br><span class="line">    rules: &#123;</span><br><span class="line">      &#x27;no-console&#x27;: &#x27;warn&#x27;,</span><br><span class="line">      &#x27;@stylistic/comma-dangle&#x27;: [&#x27;error&#x27;, &#x27;never&#x27;],</span><br><span class="line">      &#x27;prettier/prettier&#x27;: [</span><br><span class="line">        &#x27;warn&#x27;,</span><br><span class="line">        &#123;</span><br><span class="line">          singleQuote: true, // 单引号</span><br><span class="line">          semi: false, // 无分号</span><br><span class="line">          printWidth: 80, // 每行宽度至多80字符</span><br><span class="line">          trailingComma: &#x27;none&#x27;, // 不加对象|数组最后逗号</span><br><span class="line">          endOfLine: &#x27;auto&#x27; // 换行符号不限制（win mac 不一致）</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * 配置全局变量</span><br><span class="line">   */</span><br><span class="line">  &#123;</span><br><span class="line">    languageOptions: &#123;</span><br><span class="line">      globals: &#123;</span><br><span class="line">        ...globals.browser,</span><br><span class="line"></span><br><span class="line">        /** 追加一些其他自定义全局规则 */</span><br><span class="line">        wx: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * vue 规则</span><br><span class="line">   */</span><br><span class="line">  &#123;</span><br><span class="line">    files: [&#x27;**/*.vue&#x27;],</span><br><span class="line">    languageOptions: &#123;</span><br><span class="line">      parserOptions: &#123;</span><br><span class="line">        /** typescript项目需要用到这个 */</span><br><span class="line">        parser: tseslint.parser,</span><br><span class="line">        ecmaVersion: &#x27;latest&#x27;,</span><br><span class="line">        /** 允许在.vue 文件中使用 JSX */</span><br><span class="line">        ecmaFeatures: &#123;</span><br><span class="line">          jsx: true</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    rules: &#123;</span><br><span class="line">      // 在这里追加 vue 规则</span><br><span class="line">      // pretter 专注于代码的美观度 （格式化工具）</span><br><span class="line">      &#x27;vue/no-mutating-props&#x27;: [</span><br><span class="line">        &#x27;error&#x27;,</span><br><span class="line">        &#123;</span><br><span class="line">          shallowOnly: true</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      // ESLint 关注于规范</span><br><span class="line">      &#x27;vue/multi-word-component-names&#x27;: [</span><br><span class="line">        &#x27;warn&#x27;,</span><br><span class="line">        &#123;</span><br><span class="line">          ignores: [&#x27;index&#x27;] // vue组件名称多单词组成（忽略index.vue）</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &#x27;no-undef&#x27;: &#x27;error&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * typescript 规则</span><br><span class="line">   */</span><br><span class="line">  &#123;</span><br><span class="line">    files: [&#x27;**/*.&#123;ts,tsx,vue&#125;&#x27;],</span><br><span class="line">    rules: &#123;</span><br><span class="line">      &#x27;linebreak-style&#x27;: [&#x27;error&#x27;, &#x27;unix&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * prettier 配置</span><br><span class="line">   * 会合并根目录下的prettier.config.js 文件</span><br><span class="line">   * @see https://prettier.io/docs/en/options</span><br><span class="line">   */</span><br><span class="line">  eslintPluginPrettierRecommended</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><div class="tag link"><a class="link-card" title="稀土掘金 - teojs" target="_blank" rel="noopener" href="https://article.juejin.cn/post/7402696141495779363#heading-0"><div class="left"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://p3-passport.byteacctimg.com/img/user-avatar/384b8b880b987b921132a9ae561d11bf~100x100.awebp"/></div><div class="right"><p class="text">稀土掘金 - teojs</p><p class="url">https://article.juejin.cn/post/7402696141495779363#heading-0</p></div></a></div><div class="tag link"><a class="link-card" title="前端俱乐部" target="_blank" rel="noopener" href="https://juejin.cn/post/7424906473576972340"><div class="left"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://p26-passport.byteacctimg.com/img/user-avatar/351dda31ca8c57481d723d386ee07d94~100x100.awebp"/></div><div class="right"><p class="text">前端俱乐部</p><p class="url">https://juejin.cn/post/7424906473576972340</p></div></a></div></div><div class="tab-item-content"><p>ESLint Stylistic 是一个社区维护的开源项目，专注于为 JavaScript 和 TypeScript 提供风格和格式化相关的 ESLint 规则。该项目由 ESLint 和 typescript-eslint 团队发起，旨在将原本在核心规则中被弃用的风格和格式化规则独立出来，以便社区能够更好地维护这些规则。</p><p>该项目的主要编程语言是 TypeScript，同时也包含一些 JavaScript 代码。</p><p>规则冲突问题 - 在使用 ESLint Stylistic 时，可能会遇到与现有 ESLint 规则冲突的情况，导致代码检查失败。</p><p><details class="folding-tag" ><summary> eslint-plugin-vue & vite-plugin-eslint - 着重介绍俩插件 </summary>              <div class='content'>              <p>eslint-plugin-vue  &amp; vite-plugin-eslint</p><p><code>vite-plugin-eslint</code> 和 <code>eslint-plugin-vue</code> 是两个与 ESLint 相关的插件，分别用于 Vite 项目和 Vue 项目的代码质量检查。</p><p>vite-plugin-eslint</p><ul><li><p><strong>作用</strong>: 这个插件将 ESLint 集成到 Vite 构建过程中。它可以在开发时自动检查你的代码，并在代码出现问题时给出即时反馈。</p></li><li><p>功能</p><p>:</p><ul><li>实时 lint：在开发过程中，当你修改代码时，插件会即时运行 ESLint 检查，并在控制台中显示错误和警告。</li><li>自定义 ESLint 配置：支持使用自定义的 ESLint 配置文件，可以根据项目需求进行灵活设置。</li><li>适配 Vite 的开发环境，提升开发效率。</li></ul></li></ul><p>eslint-plugin-vue</p><ul><li><p><strong>作用</strong>: 这是一个专门为 Vue.js 提供的 ESLint 插件，提供 Vue 相关的 lint 规则。</p></li><li><p>功能</p><p>:</p><ul><li>Vue 特有的规则：包括模板语法、组件定义、指令使用等方面的 lint 规则，帮助开发者遵循最佳实践。</li><li>支持 Vue 3：适配 Vue 3 的新特性，确保代码符合最新的 Vue 开发标准。</li><li>提高代码可读性和可维护性，减少潜在的错误。</li></ul></li></ul><p>总结</p><ul><li><p><code>vite-plugin-eslint</code> 是用于将 ESLint 集成到 Vite 开发流程中的插件，确保在开发过程中实时检查代码质量。</p></li><li><p><code>eslint-plugin-vue</code> 则是专门针对 Vue.js 的 lint 规则插件，帮助开发者编写符合 Vue 最佳实践的代码。两者结合使用，可以有效提升 Vue 项目的代码质量和开发体验。</p></li></ul><p><code>vite-plugin-eslint</code> 和 <code>eslint-plugin-vue</code> 之间并不冲突，它们实际上是互补的工具，可以一起使用，以实现更好的代码质量管理。</p><p>关系与互补性</p><ul><li><strong>vite-plugin-eslint</strong>: 负责将 ESLint 集成到 Vite 项目中，提供实时的代码检查反馈。它会在开发过程中自动运行 ESLint。</li><li><strong>eslint-plugin-vue</strong>: 提供专门针对 Vue 组件的 lint 规则。这个插件需要在 ESLint 的配置文件中进行设置，以确保你的 Vue 代码符合特定的规范。</li></ul><p>使用建议</p><ol><li><strong>一起使用</strong>: 在 Vite 项目中使用 <code>vite-plugin-eslint</code> 来实时检查代码，同时在 ESLint 配置中引入 <code>eslint-plugin-vue</code>，以确保 Vue 组件代码符合最佳实践。</li><li><strong>配置 ESLint</strong>: 确保 ESLint 配置中包含 <code>eslint-plugin-vue</code>，并按照项目需求启用或禁用特定规则。</li><li><strong>避免重复检查</strong>: 如果在 Vite 配置中使用了 <code>vite-plugin-eslint</code>，不需要在构建时重复运行 ESLint，除非你有特定需求。</li></ol><p>总的来说，合理配置这两个插件将有助于提升你的开发体验和代码质量，不会导致冲突。</p>              </div>            </details></p><p>解决步骤：</p><p>检查现有规则：首先，检查你的 .eslintrc.json 文件中是否已经存在与 ESLint Stylistic 规则冲突的配置。</p><p>禁用冲突规则：如果发现冲突规则，可以在配置文件中禁用这些规则。例如，如果你已经配置了 indent 规则，可以禁用它：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;rules&quot;: &#123;</span><br><span class="line">    &quot;indent&quot;: &quot;off&quot;,</span><br><span class="line">    &quot;@stylistic/indent&quot;: [&quot;error&quot;, 2]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>逐步应用规则：建议逐步应用 ESLint Stylistic 的规则，避免一次性引入过多规则导致冲突。</p><p>自定义规则问题 - 新手可能希望自定义 ESLint Stylistic 的规则，但不知道如何正确配置。</p><p>解决步骤：</p><p>了解规则配置：首先，阅读 ESLint Stylistic 的官方文档，了解每个规则的配置选项。</p><p>自定义规则：在 .eslintrc.json 文件中，根据文档中的说明自定义规则。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">  	<span class="comment">// 例如，如果你想自定义缩进规则：</span></span><br><span class="line">    <span class="string">&quot;@stylistic/indent&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="number">4</span>],</span><br><span class="line">    <span class="comment">// 例如, 去掉末尾逗号需要这样设置</span></span><br><span class="line">    <span class="string">&#x27;@stylistic/comma-dangle&#x27;</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 同时, 需要注意的是, prettier 内置了一些规则, 即使不配置任何prettier, 也会生效</span></span><br><span class="line">    <span class="comment">// 因此, 需要想要实现末尾去掉逗号, 需要在 prettier 里进行自主设置</span></span><br><span class="line">    <span class="attr">trailingComma</span>: <span class="string">&#x27;none&#x27;</span>, <span class="comment">// 不加对象|数组最后逗号</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试配置：在应用自定义规则后，运行 ESLint 检查代码，确保配置正确无误。</p><p>通过以上步骤，新手可以更好地理解和使用 ESLint Stylistic 项目，避免常见问题。<br>————————————————</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><div class="tag link"><a class="link-card" title="ESLint Stylistic 项目常见问题解决方案" target="_blank" rel="noopener" href="https://blog.csdn.net/gitblog_01286/article/details/143048511"><div class="left"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://profile-avatar.csdnimg.cn/default.jpg!1"/></div><div class="right"><p class="text">ESLint Stylistic 项目常见问题解决方案</p><p class="url">https://blog.csdn.net/gitblog_01286/article/details/143048511</p></div></a></div>
              </div>
            </details>
<h2 id="vueuse-工具集-amp-pinia-独立维护-amp-vant-3"><a href="#vueuse-工具集-amp-pinia-独立维护-amp-vant-3" class="headerlink" title="vueuse 工具集 &amp; pinia 独立维护 &amp; vant 3"></a>vueuse 工具集 &amp; pinia 独立维护 &amp; vant 3</h2><details class="folding-tag" ><summary> 开发环境初始化 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">vueuse</button><button type="button" class="tab"><i class="fas fa-bomb"></i>vant3</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>VueUse 是基于 <a target="_blank" rel="noopener" href="https://vuejs.org/guide/extras/composition-api-faq.html">组合式 API</a> 的实用函数集合。</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 安装</span><br><span class="line">pnpm i @vueuse/core --save</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>Vant 3UI：轻量的移动端组件库</strong></p><p>在基于 Rsbuild、Vite、webpack 或 vue-cli 的项目中使用 Vant 时，可以使用 <a target="_blank" rel="noopener" href="https://github.com/unplugin/unplugin-vue-components">unplugin-vue-components</a> 插件，它可以自动引入组件。</p><p>Vant 官方基于 <code>unplugin-vue-components</code> 提供了自动导入样式的解析器 <a target="_blank" rel="noopener" href="https://github.com/youzan/vant/tree/main/packages/vant-auto-import-resolver">@vant/auto-import-resolver</a>，两者可以配合使用。</p><p>相比于常规用法，这种方式可以按需引入组件的 CSS 样式，从而减少一部分代码体积，但使用起来会变得繁琐一些。如果业务对 CSS 的体积要求不是特别极致，我们推荐使用更简便的常规用法。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 当然是先安装好</span></span><br><span class="line">pnpm i vant --save</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按需引入组件样式</span></span><br><span class="line"># 通过 pnpm 安装</span><br><span class="line">pnpm add @vant/auto-<span class="keyword">import</span>-resolver unplugin-vue-components unplugin-auto-<span class="keyword">import</span> -D</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="请求拦截器"><a href="#请求拦截器" class="headerlink" title="请求拦截器"></a>请求拦截器</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <ol><li><p>src目录下创建utils/request.ts</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; showToast &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;/api&#x27;</span></span><br><span class="line"><span class="keyword">const</span> service = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  baseURL,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">10000</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 发起请求之前的拦截器</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      <span class="comment">// config.headers = &#123;</span></span><br><span class="line">      <span class="comment">//   &#x27;x-access-token&#x27;: token</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="comment">// 直接在 headers 对象上添加属性</span></span><br><span class="line">      config.<span class="property">headers</span>[<span class="string">&#x27;x-access-token&#x27;</span>] = token</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="params">error</span> =&gt;</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = response.<span class="property">data</span></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">status</span> !== <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(res.<span class="property">success</span> || <span class="string">&#x27;Error&#x27;</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="property">result</span> || res.<span class="property">data</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">showToast</span>(res.<span class="property">message</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出后在 api 文件中引入</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service</span><br></pre></td></tr></table></figure></li></ol>
              </div>
            </details>
<h2 id="快速创建文件结构-路由规则"><a href="#快速创建文件结构-路由规则" class="headerlink" title="快速创建文件结构-路由规则"></a>快速创建文件结构-路由规则</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">项目页面结构&自动配置路由 - 两款插件对比</button><button type="button" class="tab">使用代码快速创建</button><button type="button" class="tab"><i class="fas fa-bomb"></i>快速配置路由规则</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>项目页面结构</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">views</span><br><span class="line">  login</span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 登录页</span></span><br><span class="line">    serviceAgree.<span class="property">vue</span>             <span class="comment">// 服务协议</span></span><br><span class="line">    privatePolicy.<span class="property">vue</span>            <span class="comment">// 隐私政策</span></span><br><span class="line">  task</span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 任务主页</span></span><br><span class="line">    search.<span class="property">vue</span>                   <span class="comment">// 任务搜索</span></span><br><span class="line">    details.<span class="property">vue</span>                  <span class="comment">// 任务详情</span></span><br><span class="line">    cpmpanySource.<span class="property">vue</span>            <span class="comment">// 公司任务主页</span></span><br><span class="line">  contract                       </span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 合约主页</span></span><br><span class="line">    details.<span class="property">vue</span>                  <span class="comment">// 合约详情</span></span><br><span class="line">    progress.<span class="property">vue</span>                 <span class="comment">// 合约进度</span></span><br><span class="line">  message</span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 消息主页 </span></span><br><span class="line">    systemList.<span class="property">vue</span>               <span class="comment">// 消息列表</span></span><br><span class="line">    systemDetails.<span class="property">vue</span>            <span class="comment">// 消息详情</span></span><br><span class="line">    talk.<span class="property">vue</span>                     <span class="comment">// 对话</span></span><br><span class="line">  my</span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 我的主页</span></span><br><span class="line">    user                         <span class="comment">// 用户中心</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 个人信息</span></span><br><span class="line">      autheReal.<span class="property">vue</span>              <span class="comment">// 实名认证</span></span><br><span class="line">      certifeild.<span class="property">vue</span>             <span class="comment">// 已完成实名认证</span></span><br><span class="line">      identitySwitch.<span class="property">vue</span>         <span class="comment">// 切换身份</span></span><br><span class="line">    set                          <span class="comment">// 我的设置</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 设置页</span></span><br><span class="line">    feedback                     <span class="comment">// 意见反馈</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 反馈主页</span></span><br><span class="line">    account                      <span class="comment">// 账户</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 账户主页</span></span><br><span class="line">      advance.<span class="property">vue</span>                <span class="comment">// 账户提现</span></span><br><span class="line">      coinExplain.<span class="property">vue</span>            <span class="comment">// 无忧币说明</span></span><br><span class="line">      depositExplain.<span class="property">vue</span>         <span class="comment">// 押金说明</span></span><br><span class="line">    resume                       <span class="comment">// 我的简历</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 简历主页</span></span><br><span class="line">      preview.<span class="property">vue</span>                <span class="comment">// 简历预览</span></span><br><span class="line">    collect                      <span class="comment">// 收藏</span></span><br><span class="line">      index.<span class="property">vue</span>                  <span class="comment">// 收藏主页</span></span><br><span class="line">  talent                         <span class="comment">// 人才主页</span></span><br><span class="line">    index.<span class="property">vue</span>                    <span class="comment">// 人才详情</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 先创建文件夹</span></span><br><span class="line">mkdir -p src/views/&#123;login,task,contract,message,my/user,my/set,my/feedback,my/account,my/resume,my/collect,talent&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 然后按照文件夹, 一一创建具体文件</span></span><br><span class="line"><span class="comment">// 最佳实践: 使用 PascalCase - 首字母大写的驼峰命名，而非首字母小写。这不仅符合 Vue 官方的推荐，也有助于代码一致性和可读性，尤其在大型项目和协作开发中。</span></span><br><span class="line"></span><br><span class="line"># 创建 login 模块文件</span><br><span class="line">touch src/views/login/&#123;index.<span class="property">vue</span>,<span class="title class_">ServiceAgree</span>.<span class="property">vue</span>,<span class="title class_">PrivatePolicy</span>.<span class="property">vue</span>&#125;</span><br><span class="line"></span><br><span class="line"># 创建 task 模块文件</span><br><span class="line">touch src/views/task/&#123;index.<span class="property">vue</span>,<span class="title class_">TaskSearch</span>.<span class="property">vue</span>,<span class="title class_">TaskDetails</span>.<span class="property">vue</span>,<span class="title class_">TaskCpmpanySource</span>.<span class="property">vue</span>&#125;</span><br><span class="line"></span><br><span class="line"># 创建 contract 模块文件</span><br><span class="line">touch src/views/contract/&#123;index.<span class="property">vue</span>,<span class="title class_">ContractDetails</span>.<span class="property">vue</span>,<span class="title class_">ContractProgress</span>.<span class="property">vue</span>&#125;</span><br><span class="line"></span><br><span class="line"># 创建 message 模块文件</span><br><span class="line">touch src/views/message/&#123;index.<span class="property">vue</span>,<span class="title class_">SystemList</span>.<span class="property">vue</span>,<span class="title class_">SystemDetails</span>.<span class="property">vue</span>,<span class="title class_">MessageTalk</span>.<span class="property">vue</span>&#125;</span><br><span class="line"></span><br><span class="line"># 创建 my 模块文件</span><br><span class="line">touch src/views/my/index.<span class="property">vue</span></span><br><span class="line">touch src/views/my/user/&#123;index.<span class="property">vue</span>,<span class="title class_">AutheReal</span>.<span class="property">vue</span>,<span class="title class_">CertiFeild</span>.<span class="property">vue</span>,<span class="title class_">IdentitySwitch</span>.<span class="property">vue</span>&#125;</span><br><span class="line">touch src/views/my/set/index.<span class="property">vue</span></span><br><span class="line">touch src/views/my/feedback/index.<span class="property">vue</span></span><br><span class="line">touch src/views/my/account/&#123;index.<span class="property">vue</span>,<span class="title class_">AcountAdvance</span>.<span class="property">vue</span>,<span class="title class_">CoinExplain</span>.<span class="property">vue</span>,<span class="title class_">DepositExplain</span>.<span class="property">vue</span>&#125;</span><br><span class="line">touch src/views/my/resume/&#123;index.<span class="property">vue</span>,<span class="title class_">ResumePreview</span>.<span class="property">vue</span>&#125;</span><br><span class="line">touch src/views/my/collect/index.<span class="property">vue</span></span><br><span class="line"></span><br><span class="line"># 创建 talent 模块文件</span><br><span class="line">touch src/views/talent/index.<span class="property">vue</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// vue-router 当然是先安装一下</span><br><span class="line">pnpm vue-router</span><br></pre></td></tr></table></figure><p><strong>两款插件</strong></p><details class="folding-tag" ><summary> vite-plugin-pages 404页面的手动配置&动态路由 </summary>              <div class='content'>              <p><strong>404路由配置</strong></p><p><code>vite-plugin-pages</code> 插件在自动生成路由时，并不会直接处理 404 页面。若要添加 404 页面支持，需结合 <code>vue-router</code> 的一些配置。以下是详细步骤来设置 404 页面。</p><ol><li>创建 404 页面组件</li></ol><p>在 <code>src/pages</code> 目录中创建 <code>404.vue</code> 文件，并编写 404 页面内容：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- src/pages/404.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;not-found&quot;&gt;</span><br><span class="line">    &lt;h1&gt;404 - Page Not Found&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;The page you are looking for doesn’t exist.&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.not-found &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  padding: 2rem;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><ol><li>安装并配置 <code>vite-plugin-pages</code></li></ol><p>确保已安装 <code>vite-plugin-pages</code>，并配置 <code>vite.config.js</code>：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm install vite-plugin-pages -D</span><br></pre></td></tr></table></figure><p>在 <code>vite.config.js</code> 中导入插件并添加配置：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// vite.config.js</span><br><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;;</span><br><span class="line">import Pages from &#x27;vite-plugin-pages&#x27;;</span><br><span class="line"></span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(),</span><br><span class="line">    Pages(&#123;</span><br><span class="line">      // 使用默认配置即可，Pages 插件会自动读取 src/pages 下的 .vue 文件并生成路由</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol><li>配置 <code>vue-router</code> 捕获所有未知路由</li></ol><p><code>vite-plugin-pages</code> 会自动生成 <code>routes</code> 配置，我们可以使用这些生成的路由，并手动添加 404 页面配置。在 <code>src/main.js</code> 或 <code>src/main.ts</code> 中完成以下设置：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// src/main.js 或 src/main.ts</span><br><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;;</span><br><span class="line">import App from &#x27;./App.vue&#x27;;</span><br><span class="line">import &#123; createRouter, createWebHistory &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">import generatedRoutes from &#x27;virtual:generated-pages&#x27;;</span><br><span class="line"></span><br><span class="line">const routes = [</span><br><span class="line">  ...generatedRoutes,</span><br><span class="line">  // 添加 404 页面路由，捕获所有未知路径</span><br><span class="line">  &#123; path: &#x27;/:pathMatch(.*)*&#x27;, name: &#x27;NotFound&#x27;, component: () =&gt; import(&#x27;./pages/404.vue&#x27;) &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const router = createRouter(&#123;</span><br><span class="line">  history: createWebHistory(),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const app = createApp(App);</span><br><span class="line">app.use(router);</span><br><span class="line">app.mount(&#x27;#app&#x27;);</span><br></pre></td></tr></table></figure><ol><li>可选配置：重定向到首页或其他页面</li></ol><p>如果希望未匹配的路径重定向到首页或其他页面，而不是显示 404 页面，可以将 <code>404.vue</code> 替换为首页或指定页面。例如：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const routes = [</span><br><span class="line">  ...generatedRoutes,</span><br><span class="line">  // 重定向到首页</span><br><span class="line">  &#123; path: &#x27;/:pathMatch(.*)*&#x27;, redirect: &#x27;/&#x27; &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure><ol><li>可选配置：在生产环境中部署时处理 404</li></ol><p>如果使用 GitHub Pages、Netlify 等平台部署，静态网站通常会出现直接访问 404 页面 URL 时无法找到页面的情况。这时可以根据部署平台的不同，分别进行配置：</p><p><strong>Netlify</strong>：在根目录下创建 <code>_redirects</code> 文件，添加如下配置：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*    /index.html   200</span><br></pre></td></tr></table></figure><p><strong>Vercel</strong>：Vercel 自动支持单页应用，默认不需要额外配置。</p><p><strong>GitHub Pages</strong>：在 <code>404.html</code> 中添加 JavaScript 重定向代码：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">  window.location.href = &#x27;/#&#x27; + window.location.pathname;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>总结</strong></p><p>配置 404 页面时需完成以下步骤：</p><ol><li>创建 <code>404.vue</code> 页面。</li><li>使用 <code>vite-plugin-pages</code> 自动生成路由。</li><li>在 <code>vue-router</code> 中手动添加通配符路由 <code>/:pathMatch(.*)*</code> 指向 <code>404.vue</code> 组件。</li><li>（可选）根据部署平台的需求配置生产环境的 404 页面处理。</li></ol><p>动态路由</p><p>动态路由参数</p><p>如果你需要接收动态参数，如 <code>things_id</code> 和 <code>receive_id</code>，你需要确保你的文件名包含正确的参数名称，例如：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">src/pages/</span><br><span class="line">  message/</span><br><span class="line">    MessageTalk/</span><br><span class="line">      [things_id].vue</span><br><span class="line">      [receive_id].vue</span><br></pre></td></tr></table></figure><p>或者使用 <code>MessageTalk.vue</code> 文件的嵌套路由：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">src/pages/</span><br><span class="line">  message/</span><br><span class="line">    [things_id]/</span><br><span class="line">      [receive_id].vue</span><br></pre></td></tr></table></figure><p><code>vite-plugin-pages</code> 会自动解析这些动态参数并将它们映射到路由中。</p>              </div>            </details><p><code>unplugin-vue-router</code> 和 <code>vite-plugin-pages</code> 都是为 Vue 开发的文件系统路由插件，主要用于简化路由配置。但它们在特性和实现方式上有所不同。以下是两者的简要对比：</p><p><code>vite-plugin-pages vs unplugin-vue-router</code></p><details class="folding-tag" ><summary> 最好还是使用后者，因为... </summary>              <div class='content'>              <p>可以直接在页面中使用 <code>definePage</code> 来定义 <code>meta</code>，并且 <strong>不会</strong> 报错，因为 <code>unplugin-vue-router</code> 提供了类型支持和自动引入 <code>definePage</code> 的功能。正确配置后，<code>definePage</code> 会在页面中自动识别，无需额外导入。以下是确保配置无误的步骤：</p><ol><li>确保 <code>vite.config.ts</code> 配置了 <code>unplugin-vue-router</code></li></ol><p>在 <code>vite.config.ts</code> 中确保插件已经正确配置，通常设置如下：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-router/vite&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title class_">VueRouter</span>(&#123; <span class="comment">/* 配置项，可选 */</span> &#125;),</span><br><span class="line">    <span class="title function_">vue</span>()</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>添加 <code>unplugin-vue-router</code> 的自动生成文件</li></ol><p><code>unplugin-vue-router</code> 会自动生成路由文件，并包含类型声明。添加好插件后，首次启动项目时它会生成类型声明文件。这些文件通常位于 <code>src/typed-router.d.ts</code> 中，可以提供完整的路由类型支持。</p><ol><li>在页面组件中使用 <code>definePage</code> 定义 <code>meta</code></li></ol><p>成功配置后，<code>definePage</code> 函数会在页面组件中自动识别，你可以直接定义 <code>meta</code>，例如：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/pages/Home.vue</span></span><br><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="title function_">definePage</span>(&#123;</span><br><span class="line">  <span class="attr">meta</span>: &#123;</span><br><span class="line">    <span class="attr">showTabBar</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>首页内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ol><li>验证和使用 <code>meta</code> 信息</li></ol><p>在主布局或根组件中，可以通过 <code>route.meta.showTabBar</code> 访问并根据需要使用 <code>meta</code> 信息。例如：</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;!-- <span class="title class_">App</span>.<span class="property">vue</span> --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">TabBar</span> <span class="attr">v-if</span>=<span class="string">&quot;$route.meta.showTabBar !== false&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">TabBar</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/TabBar.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>这样配置后，<code>definePage</code> 应该不会报错，<code>meta</code> 信息也可以直接在页面中定义并在组件中读取，实现动态显示组件的功能。</p>              </div>            </details><p>方法：通过 <code>meta</code> 字段配置路由</p><p><code>vite-plugin-pages</code> 本身并不直接支持 <code>definePageMeta</code>，这个 API 是 <code>Nuxt.js</code> 的功能，而在 Vue 3 项目中并没有官方直接的 <code>definePageMeta</code> 功能。因此，以下是实现类似效果的替代方法：</p><details class="folding-tag" ><summary> vite-plugin-pages - 可尝试通过 meta 字段配置路由 </summary>              <div class='content'>              <p>使用 <code>vite-plugin-pages</code> 时，可以在 <code>vite.config.ts</code> 文件中对路由进行扩展，设置 <code>meta</code> 字段，用于单个页面的额外配置。</p><p> 步骤 1：配置 <code>vite-plugin-pages</code> 添加 <code>meta</code></p><p>在 <code>vite.config.ts</code> 中，通过 <code>extendRoute</code> 为指定页面添加 <code>meta</code> 字段：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Pages</span> <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-pages&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title class_">Pages</span>(&#123;</span><br><span class="line">      <span class="title function_">extendRoute</span>(<span class="params">route</span>) &#123;</span><br><span class="line">        <span class="comment">// 比如为 login 页面设置特定的 meta</span></span><br><span class="line">        <span class="keyword">if</span> (route.<span class="property">name</span> === <span class="string">&#x27;login&#x27;</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;</span><br><span class="line">            ...route,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">showTabBar</span>: <span class="literal">false</span> &#125; <span class="comment">// 自定义 meta 数据</span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 可以为其他页面单独设置不同的 meta 配置</span></span><br><span class="line">        <span class="keyword">return</span> route;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>步骤 2：在页面组件中读取 <code>meta</code> 信息</p><p>在页面组件中使用 <code>useRoute</code> 读取路由 <code>meta</code> 信息：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/pages/YourPage.vue</span></span><br><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; useRoute &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>();</span><br><span class="line"><span class="comment">// 使用 meta 配置</span></span><br><span class="line"><span class="keyword">const</span> showTabBar = route.<span class="property">meta</span>.<span class="property">showTabBar</span> !== <span class="literal">false</span>;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>页面内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 根据 showTabBar 动态控制 TabBar 显示 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">TabBar</span> <span class="attr">v-if</span>=<span class="string">&quot;showTabBar&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>注意事项</p><ol><li>如果需要在多个页面中复用 <code>meta</code> 字段，可在 <code>extendRoute</code> 中批量设置条件。</li><li>此方法兼容 Vue 3 的组合式 API，并与 <code>vite-plugin-pages</code> 配置无冲突。</li></ol>              </div>            </details><ol><li>功能对比</li></ol><div class="table-container"><table><thead><tr><th>特性</th><th>vite-plugin-pages</th><th>unplugin-vue-router</th></tr></thead><tbody><tr><td><strong>路由自动化</strong></td><td>根据文件系统自动生成路由</td><td>根据文件系统自动生成路由</td></tr><tr><td><strong>文件名映射</strong></td><td>支持文件名到路由的直接映射</td><td>支持文件名到路由的直接映射</td></tr><tr><td><strong>动态路由支持</strong></td><td>支持动态路由命名（如 <code>[id].vue</code>）</td><td>支持动态路由命名（如 <code>[id].vue</code>）</td></tr><tr><td><strong>嵌套路由</strong></td><td>支持基于目录结构的嵌套路由</td><td>支持基于目录结构的嵌套路由</td></tr><tr><td><strong>404 页面支持</strong></td><td>需要手动配置 404 页面</td><td>可自动处理 404 页面</td></tr><tr><td><strong>全局导航守卫</strong></td><td>不支持</td><td>支持全局导航守卫</td></tr><tr><td><strong>懒加载支持</strong></td><td>自动支持懒加载</td><td>自动支持懒加载</td></tr><tr><td><strong>TypeScript 支持</strong></td><td>原生支持，需配置类型声明</td><td>原生支持，需配置类型声明</td></tr><tr><td><strong>构建时路由生成</strong></td><td>构建时生成路由，支持虚拟模块</td><td>构建时生成路由，支持虚拟模块</td></tr></tbody></table></div><ol><li>使用场景</li></ol><div class="table-container"><table><thead><tr><th>场景</th><th>适合的插件</th></tr></thead><tbody><tr><td><strong>小型项目</strong></td><td>vite-plugin-pages</td></tr><tr><td><strong>快速开发与原型设计</strong></td><td>vite-plugin-pages</td></tr><tr><td><strong>简单的路由管理</strong></td><td>vite-plugin-pages</td></tr><tr><td><strong>复杂的路由需求</strong></td><td>unplugin-vue-router</td></tr><tr><td><strong>需要权限管理和导航守卫</strong></td><td>unplugin-vue-router</td></tr><tr><td><strong>大型项目</strong></td><td>unplugin-vue-router</td></tr><tr><td><strong>高级路由配置</strong></td><td>unplugin-vue-router</td></tr></tbody></table></div><ol><li>优缺点</li></ol><p>vite-plugin-pages</p><p><strong>优点</strong>：</p><ul><li><strong>快速上手</strong>：可以快速生成路由配置，节省时间。</li><li><strong>减少冗余</strong>：不需要手动维护路由数组，文件结构直接映射路由。</li><li><strong>易于维护</strong>：通过修改文件名和结构来轻松管理路由。</li></ul><p><strong>缺点</strong>：</p><ul><li><strong>灵活性有限</strong>：对于复杂需求，可能需要手动调整。</li><li><strong>不支持所有高级功能</strong>：如全局导航守卫等功能需额外实现。</li></ul><p>unplugin-vue-router</p><p><strong>优点</strong>：</p><ul><li><strong>灵活性高</strong>：支持多种复杂路由配置，包括嵌套路由、命名路由、动态路由等。</li><li><strong>强大的功能</strong>：支持全局导航守卫、懒加载等高级功能。</li><li><strong>广泛使用</strong>：作为广泛支持的插件，文档和社区支持丰富。</li></ul><p><strong>缺点</strong>：</p><ul><li><strong>配置复杂</strong>：对于初学者，路由配置可能较为繁琐。</li><li><strong>手动维护</strong>：需要手动维护路由数组，增加了工作量。</li></ul><ol><li>集成方式</li></ol><p><code>vite-plugin-pages &amp; unplugin-vue-router</code></p><ol><li><p><strong>安装插件</strong>：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// vite-plugin-pages</span><br><span class="line">pnpm install vite-plugin-pages -D</span><br><span class="line"></span><br><span class="line">// unplugin-vue-router</span><br><span class="line">pnpm install unplugin-vue-router -D</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p><strong>配置 vite.config.js</strong>：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite-plugin-pages</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Pages</span> <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-pages&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title class_">Pages</span>(&#123;</span><br><span class="line">      <span class="comment">// 指定路由文件的目录</span></span><br><span class="line">      <span class="attr">dirs</span>: <span class="string">&#x27;src/views&#x27;</span>,</span><br><span class="line">      <span class="comment">// 可以自定义路由生成规则</span></span><br><span class="line">      <span class="attr">extensions</span>: [<span class="string">&#x27;vue&#x27;</span>], <span class="comment">// 仅识别 .vue 文件</span></span><br><span class="line">      <span class="attr">exclude</span>: [<span class="string">&#x27;**/components/**&#x27;</span>] <span class="comment">// 排除特定目录</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// unplugin-vue-router </span></span><br><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UnpluginVueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-router/vite&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title class_">UnpluginVueRouter</span>(&#123;</span><br><span class="line">      <span class="attr">routesFolder</span>: <span class="string">&#x27;src/pages&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><ol><li><p>使用</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vite-plugin-pages</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> generatedRoutes <span class="keyword">from</span> <span class="string">&#x27;virtual:generated-pages&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  <span class="attr">routes</span>: generatedRoutes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// unplugin-vue-router</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; routes &#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="接受路由参数的三种方式"><a href="#接受路由参数的三种方式" class="headerlink" title="接受路由参数的三种方式"></a>接受路由参数的三种方式</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <p><strong>最佳实践中，使用 <code>useRoute</code></strong></p><p>为什么推荐 <code>useRoute</code>？</p><ul><li><strong>语义化</strong>：<code>useRoute</code> 是 Vue 3 提供的组合式 API，它直接说明你是在获取当前路由的参数。使用 <code>useRoute</code> 可以让代码更具可读性和可维护性。</li><li><strong>响应式</strong>：<code>useRoute</code> 返回的是一个响应式对象，当路由参数发生变化时，组件会自动重新渲染，这对于动态路由特别有用。</li><li><strong>简洁</strong>：在组件内部，直接使用 <code>useRoute</code> 获取路由参数是最简洁的方式。</li></ul><p>假设 <code>receive_id.vue</code> 组件位于路径 <code>/message/:things_id/:receive_id</code> 下，可以在组件中按如下方式获取动态路由参数：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; useRoute &#125; from &#x27;vue-router&#x27;;</span><br><span class="line"></span><br><span class="line">// 获取当前路由对象</span><br><span class="line">const route = useRoute();</span><br><span class="line"></span><br><span class="line">// 获取路由参数</span><br><span class="line">const things_id = route.params.things_id;</span><br><span class="line">const receive_id = route.params.receive_id;</span><br><span class="line">// 在 Vue 3 中，useRoute 是一个非常常用的工具</span><br><span class="line">// 允许你访问路由的所有相关信息（如路径、查询参数、动态参数等）。</span><br><span class="line">// route.params 包含了当前路由的动态参数。在路由路径中使用的 :things_id 和 :receive_id 会自动出现在 route.params 中。</span><br><span class="line"></span><br><span class="line">console.log(things_id, receive_id);  // 打印路由参数</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Things ID: &#123;&#123; things_id &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;Receive ID: &#123;&#123; receive_id &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><strong>router.currentRoute.value 获取动态路由参数</strong></p><p>虽然 <code>router.currentRoute.value</code> 也可以用来获取动态路由参数，但它的使用场景相对较少。通常这种方式更多见于非组件上下文，或者你需要对路由做更细致的控制时（比如在 Vuex、全局状态管理等地方访问路由信息）。</p><p> 示例代码：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; router &#125; <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>; <span class="comment">// 导入 router 实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取动态参数 id</span></span><br><span class="line"><span class="keyword">const</span> id = router.<span class="property">currentRoute</span>.<span class="property">value</span>.<span class="property">params</span>.<span class="property">id</span>; </span><br><span class="line"># params.<span class="property">id</span> 中的这个id 需要与具体文件结构一致、完全吻合</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;当前 ID:&#x27;</span>, id);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p> 使用场景：</p><ul><li>如果你需要手动访问路由实例，或者在非组件环境（如 Vuex、服务模块等）中获取路由参数时，<code>router.currentRoute.value</code> 会更适用。</li><li>需要直接操作或获取路由实例的情况下，适合使用这种方式。</li></ul><p>defineProps 也可以获取路由参数</p><p><code>defineProps</code> 主要用于从父组件获取数据或 props，而 <strong>vite-plugin-pages</strong> 会将动态路由参数自动作为 props 传递给组件。如果你通过 <code>vite-plugin-pages</code> 的自动路由系统来配置路由，并且路由参数会自动作为 props 传递给组件，那么你可以直接使用 <code>defineProps</code> 来获取。</p><p>根据项目实践，如果使用了 vite-plugin-pages 插件，不使用 defineProps 接受路由参数的话，控制台会给与相应提示！</p><p>示例代码：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> &#123; id &#125; = defineProps&lt;&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">id</span>: string;</span></span><br><span class="line"><span class="language-javascript">&#125;&gt;();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;当前 ID:&#x27;</span>, id);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用场景：</p><ul><li>这种方式只适用于 <code>vite-plugin-pages</code> 等插件自动处理的场景。</li><li>如果路由参数会自动作为组件的 props 传递，那么使用 <code>defineProps</code> 是最简洁的方式。</li><li>不适合动态路由和非插件自动处理的情况。</li></ul>
              </div>
            </details>
<h2 id="组件封装-实用技巧"><a href="#组件封装-实用技巧" class="headerlink" title="组件封装 - 实用技巧"></a>组件封装 - 实用技巧</h2><details class="folding-tag" ><summary> 这里需要区分，有些组件例如 tabbar，需要写在项目根组件当中 </summary>
              <div class='content'>
              <p>否则，在 vant ui 框架中，会导致内部调用起冲突</p><p>另外，如果需要，可在 app.vue 根组件中，针对 tabbar 加上一个条件判断，例如：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;RouterView /&gt;</span><br><span class="line">  // 这样，就可以排除不需要tabbar组件的页面</span><br><span class="line">  &lt;FooterTabbar v-if=&quot;$route.path !== &#x27;/login&#x27;&quot;&gt;&lt;/FooterTabbar&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">组件的自动导入</button><button type="button" class="tab">Vue VSCode Snippets</button><button type="button" class="tab"><i class="fas fa-bomb"></i>炸弹</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>配置</strong></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自动导入配置  settings.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;workbench.settings.applyToAllProfiles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;less.compile&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;out&quot;</span><span class="punctuation">:</span> <span class="string">&quot;css/&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;window.zoomLevel&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workbench.iconTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode-icons&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;vsicons.dontShowNewVersionMessage&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;security.allowedUNCHosts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;iostation&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 当保存的时候, eslint自动帮我们修复错误</span></span><br><span class="line">  <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="string">&quot;explicit&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;explorer.confirmDragAndDrop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 关闭保存自动格式化</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// eslint 配置好了以后, 改为false 防止冲突</span></span><br><span class="line">  <span class="attr">&quot;editor.tabSize&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;javascript.format.semicolons&quot;</span><span class="punctuation">:</span> <span class="string">&quot;remove&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;terminal.integrated.defaultProfile.windows&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Command Prompt&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;security.workspace.trust.untrustedFiles&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.tabCompletion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.fontLigatures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;files.associations&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;*.vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;emmet.triggerExpansionOnTab&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[vue]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// &quot;editor.defaultFormatter&quot;: &quot;octref.vetur&quot; // 定义一个默认格式化程序</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;vetur.format.defaultFormatterOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;explorer.compactFolders&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;notebook.compactView&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;vsicons.projectDetection.autoReload&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 自动导入设置</span></span><br><span class="line">  <span class="attr">&quot;typescript.preferences.importModuleSpecifier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shortest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;typescript.suggest.autoImports&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;javascript.suggest.autoImports&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><strong>Vue VSCode Snippets</strong> 是一个 Visual Studio Code 插件，提供了一组 Vue.js 的代码片段，能够帮助开发者快速编写 Vue 组件和其他常用代码结构。这个插件非常有助于提高开发效率，特别是在使用 Vue 3 的项目中。</p></div><div class="tab-item-content"><p><strong>名字+icon</strong></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="api-请求前的类型声明"><a href="#api-请求前的类型声明" class="headerlink" title="api 请求前的类型声明"></a>api 请求前的类型声明</h2><details class="folding-tag" ><summary> 点击查看步骤和技巧 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">interface & functions</button><button type="button" class="tab">返回数据类型按需声明</button><button type="button" class="tab"><i class="fas fa-bomb"></i>类型推断</button></div><div class="tab-contents"><div class="tab-item-content active"><details class="folding-tag" ><summary> 基本概念 - 如果一个东西长得想鸭子，可以像鸭子一样嘎嘎叫，那就认为它是鸭子 </summary>              <div class='content'>              <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// interface </span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">viking</span>: <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;viking&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数参数和约定返回值类型声明</span></span><br><span class="line"><span class="keyword">const</span> add = (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>, z?: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> z === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y + z</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ISum</span> &#123;</span><br><span class="line">  (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>, z?: <span class="built_in">number</span>): <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">add2</span>: <span class="title class_">ISum</span> = add</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><p>步骤 1：定义请求参数的接口</p><p>​    首先，定义 API 请求参数的接口，以确保传入的参数符合要求。</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 请求参数类型定义</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">LoginData</span> &#123;</span><br><span class="line">  <span class="attr">accounts</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">code</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤 2：定义 API 响应数据的接口</p><p>根据 API 返回的 JSON 结构定义接口，确保响应的数据类型安全：</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 返回参数的定义</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">  <span class="attr">role</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">birthday</span>: <span class="built_in">string</span> | <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">LoginResponse</span> &#123;</span><br><span class="line">  <span class="attr">errCode</span>: <span class="built_in">number</span></span><br><span class="line">  <span class="attr">msg</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">user_info</span>: <span class="title class_">UserInfo</span></span><br><span class="line">    <span class="attr">token</span>: <span class="built_in">string</span> <span class="comment">// 登录令牌</span></span><br><span class="line">    <span class="attr">expireTime</span>: <span class="built_in">number</span> <span class="comment">// 过期时间</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤 3：封装 API 请求函数</p><p>在 Vue 项目中，通常使用 <code>axios</code> 发送请求。封装一个通用的请求方法，将参数和响应数据类型应用到请求中。</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">login</span>(<span class="params"><span class="attr">data</span>: <span class="title class_">LoginData</span></span>): <span class="title class_">Promise</span>&lt;<span class="title class_">LoginResponse</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">    data</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>步骤 4：在 Vue 组件中使用 API 请求函数</p><p>在组件中调用该 API 函数时，使用 <code>async/await</code> 处理异步请求，并确保响应数据符合预期类型。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 根据数据的实际使用方式，ts 会倒过来自动推断 api 返回的数据类型，并给出声明建议</span><br></pre></td></tr></table></figure><p><strong>技巧：</strong></p><ol><li><strong>类型推导</strong>：尽量在 API 请求时显式定义接口，有助于类型推导，避免类型不匹配。</li><li><strong>分层设计</strong>：将 API 请求函数与业务逻辑分离，便于维护和测试。</li><li><strong>类型安全</strong>：使用接口描述请求参数和响应数据，确保数据符合预期。</li><li><strong>错误处理</strong>：在组件中进行错误捕获，以便向用户反馈错误信息。</li><li><strong>可选字段</strong>：对于返回结果中的非必需字段（如 <code>msg</code>），可用 <code>?</code> 标记为可选。</li></ol></div><div class="tab-item-content"><p><strong>即 - 部分类型定义</strong></p><p>允许只定义 <code>ApiResponse</code> 中需要的字段，而不必包含整个返回对象的所有字段。这种方式称为“部分类型定义”，它有助于简化代码，尤其在返回数据结构复杂的情况下。</p><p>但，虽不必包含返回对象的所有字段，但对于需要使用的返回数据，必须在 interface 中声明，如暂时无法确定其类型，可暂时将类型留空，将来在组件中根据实际的使用方法，ts 会自动未我们进行类型推断</p></div><div class="tab-item-content"><p><p><strong>ts编译器可以从上下文中推断出变量的结构和字段类型，它会根据你的使用模式自动推断出一个更准确的类型。</strong></p><br><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例如，本项目中未在 /api/user.ts 中的 records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PolicyResponse</span> &#123;</span><br><span class="line">  # 返回的数据，必须在<span class="keyword">interface</span>中按需声明，否则在组件中会提示未声明类型</span><br><span class="line">  records // 未指定类型  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 协议文件接口</span><br><span class="line">export function getPolicy(data: &#123; <span class="attr">id</span>: <span class="built_in">number</span> &#125;): <span class="title class_">Promise</span>&lt;<span class="title class_">PolicyResponse</span>&gt; &#123; </span><br><span class="line">  # 使用：<span class="title class_">Promise</span>&lt;&gt;将声明的内容定义在函数体中 </span><br><span class="line">  # 如果直接使用 &lt;<span class="title class_">PolicyResponse</span>&gt; 而非 <span class="title class_">Promise</span>&lt;<span class="title class_">PolicyResponse</span>&gt;，则无法通过 <span class="keyword">await</span> 来控制数据加载的流程，可能导致数据未加载完成就尝试访问属性，从而引发错误。</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/policy_protocol/list&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>: data</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><p>但是，在组件中，根据对返回数据的实际调用方式，ts 会帮我们推断出合适的类型声明</p><br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// /src/views/login/PrivatePolicy.vue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onClickLeft</span> = (<span class="params"></span>) =&gt; history.<span class="title function_">back</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getPolicyChange</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">getPolicy</span>(&#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">16</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">if</span> (res) &#123;</span><br><span class="line">    state.<span class="property">value</span>.<span class="property">htmlText</span> = res.<span class="property">records</span>[<span class="number">0</span>].<span class="property">content</span> #根据对返回数据的实际调用方式</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Toast</span>(<span class="string">&#x27;这里出错啦&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="state-amp-defineProps-中的数据类型声明"><a href="#state-amp-defineProps-中的数据类型声明" class="headerlink" title="state &amp; defineProps 中的数据类型声明"></a>state &amp; defineProps 中的数据类型声明</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">state 中的数据类型声明</button><button type="button" class="tab"><i class="fas fa-bomb"></i>defineProps</button></div><div class="tab-contents"><div class="tab-item-content active"><p><strong>/src/stores/task.ts</strong></p><p>在 Vue 3 + TypeScript 项目中，通常建议对<code>store.state</code>中的数据进行类型声明，以便充分利用 TypeScript 的类型检查和代码提示功能。这不仅可以提高代码的可读性和可维护性，还有助于避免潜在的错误。</p><p>同样的，也是遵循按需声明的原则，即只声明将来会在组件中渲染的数据即可。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义 City 类型</span></span><br><span class="line">interface <span class="title class_">City</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string | <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向 state 存数据时, 同样需要对类型进行定义</span></span><br><span class="line"><span class="comment">// 这是 banner 数据类型声明</span></span><br><span class="line">interface getBanner &#123;</span><br><span class="line">  <span class="attr">url</span>: string | <span class="literal">undefined</span></span><br><span class="line">  <span class="attr">picture</span>: string | <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是职位列表的 state 数据类型声明</span></span><br><span class="line">interface getPosition &#123;</span><br><span class="line">  name</span><br><span class="line">  children</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 筛选列表的数据类型声明</span></span><br><span class="line">interface getScreen &#123;</span><br><span class="line">  serviceMode</span><br><span class="line">  taskCycle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> taskStore = <span class="title function_">defineStore</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;task&#x27;</span>,</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">cityValue</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;city&#x27;</span>) || <span class="string">&#x27;北京&#x27;</span>,</span><br><span class="line">      <span class="attr">cityList</span>: [] <span class="keyword">as</span> <span class="title class_">City</span>[], <span class="comment">// 使用 City 数组类型</span></span><br><span class="line">      <span class="attr">bannerList</span>: [] <span class="keyword">as</span> getBanner[],</span><br><span class="line">      <span class="attr">positionValue</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 从 localStorage 获取初始值</span></span><br><span class="line">      <span class="attr">positionList</span>: [] <span class="keyword">as</span> getPosition[],</span><br><span class="line">      <span class="attr">screenList</span>: &#123;&#125; <span class="keyword">as</span> getScreen</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">setCityValue</span>(<span class="params">value: string</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cityValue</span> = value</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;city&#x27;</span>, value) <span class="comment">// 将新的 cityValue 存入 localStorage</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setCityList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cityList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setBannerList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">bannerList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setPositionList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">positionList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setPositionValue</span>(<span class="params">p: string</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">positionValue</span> = p</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;positionValue&#x27;</span>, p)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setScreenList</span>(<span class="params">data: getScreen</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">screenList</span> = data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p>父组件中，在子组件标签中，直接使用冒号（v-bind）增加动态属性</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 对于 向子组件传递的数据，像以往那样，需要在组合式 api 当中声明其数据类型</span><br><span class="line">// 像这样</span><br><span class="line"># 实践发现，父组件用不到的有关类型声明，可以不写，即只在具体渲染组件中进行有关类型声明即可</span><br><span class="line"># 然而实际开发中，经常出现的情况是：父组件需要用到部分数据，子组件也需要用到部分数据</span><br><span class="line"># 这种情况下，仅各自声明需要使用的数据类型即可</span><br><span class="line">interface DetailItem &#123;</span><br><span class="line">  task_name</span><br><span class="line">  head_img</span><br><span class="line">  company_id</span><br><span class="line">  company_name</span><br><span class="line">  user_name</span><br><span class="line">  city</span><br><span class="line">  position_name</span><br><span class="line">  task_budget</span><br><span class="line">  task_cycle</span><br><span class="line">  service_mode</span><br><span class="line">  task_ask</span><br><span class="line">  task_id</span><br><span class="line">  user_id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const state = reactive(&#123;</span><br><span class="line">  item: &#123;&#125; as DetailItem,</span><br><span class="line">  status: 0</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 然后才可以使用 v-bind 为子组件添加动态属性</span><br><span class="line">&lt;TaskDetail v-if=&quot;state.item&quot; :item=&quot;state.item&quot;&gt;&lt;/TaskDetail&gt;</span><br></pre></td></tr></table></figure><p>然后子组件中，像这样</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 首先对传递进来的数据类型进行声明</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TaskItem</span> &#123;</span><br><span class="line">  task_name</span><br><span class="line">  is_emergency</span><br><span class="line">  task_budget</span><br><span class="line">  task_cycle</span><br><span class="line">  task_ask</span><br><span class="line">  company_name</span><br><span class="line">  city</span><br><span class="line">  service_mode</span><br><span class="line">  task_id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 然后进行接收 </span></span><br><span class="line"><span class="keyword">const</span> &#123; taskList &#125; = defineProps&lt;&#123;</span><br><span class="line">  <span class="attr">taskList</span>: <span class="title class_">TaskItem</span>[]</span><br><span class="line">&#125;&gt;()</span><br><span class="line">  </span><br><span class="line"># 根据实际测试，在本项目的开发规范中，父组件对 v-bind 传递的数据类型进行定义后</span><br><span class="line"># 子组件可以隐式声明数据，即只声明父组件 v-bind 传递进来的父级元素而无需显式的声明其类型</span><br><span class="line"># 例如：</span><br><span class="line"><span class="keyword">const</span> &#123; item &#125; = defineProps&lt;&#123;</span><br><span class="line">  item</span><br><span class="line">&#125;&gt;()</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 然后就能供子组件使用了，props 数据是单向动态流，即父组件向子组件流动</span></span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"># 进一步实际测试发现，使用 defineProps 接受父组件的数据时</span><br><span class="line"># 采取直接解构的方式进行隐式声明也是可以的</span><br><span class="line"></span><br><span class="line"><span class="comment">// 例如：子组件中，直接</span></span><br><span class="line"><span class="keyword">const</span> &#123; contractList &#125; = defineProps&lt;&#123;</span><br><span class="line">  contractList</span><br><span class="line">&#125;&gt;()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这样，就可以在子组件使用了，无论数据在第几层</span></span><br><span class="line"></span><br><span class="line"># 而无需对要使用的数据进行具体的 <span class="keyword">interface</span> 声明</span><br></pre></td></tr></table></figure><p><strong>defineProps 泛型参数 &lt;{ messageList }&gt;</strong>：</p><ul><li>泛型定义了 <code>props</code> 的类型，帮助 TypeScript 提供更好的类型推断。</li><li>在这个例子中，泛型 <code>{ messageList }</code> 表示组件的 <code>props</code> 中应该有一个名为 <code>messageList</code> 的属性。</li><li><strong>未指定 messageList 的具体类型</strong>，所以默认会是 <code>any</code> 类型。</li></ul><p>使用 defineProps 接收路由参数</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 通过 vite-plugin-pages 插件，路由参数（如 id）会自动作为 props 传递给组件</span></span><br><span class="line"><span class="comment">// 在组件中只需要使用 defineProps 来定义 id，然后通过 props.id 来访问该值。</span></span><br><span class="line"><span class="comment">// 而无需使用 const taskId = router.currentRoute.value.params.id</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">id</span>: taskId &#125; = defineProps&lt;&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span></span><br><span class="line">&#125;&gt;()</span><br><span class="line"></span><br><span class="line"><span class="comment">// const &#123; id: taskId &#125;：这部分代码是 JavaScript 的解构赋值语法。它将 props 中的 id 属性重命名为 taskId，这样你在组件内部就可以使用 taskId 来引用该值。</span></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
              </div>
            </details>
<h2 id="provide-inject-依赖注入-父组件向子组件提供方法时的类型声明"><a href="#provide-inject-依赖注入-父组件向子组件提供方法时的类型声明" class="headerlink" title="provide / inject 依赖注入 - 父组件向子组件提供方法时的类型声明"></a>provide / inject 依赖注入 - 父组件向子组件提供方法时的类型声明</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="" alt="https://cn.vuejs.org/assets/prop-drilling.XJXa8UE-.png"></p><p>在 Vue 中，父组件通过 <code>provide</code> 提供的函数在子组件中调用时，子组件不会自动继承该函数的类型声明。这是因为 TypeScript 的类型系统是静态的，类型信息并不会随着函数的传递而自动传播。以下是一些相关的要点：</p><ol><li><strong>提供与注入</strong><ul><li>父组件使用 <code>provide</code> 提供数据或函数，子组件使用 <code>inject</code> 注入这些数据或函数。虽然父组件提供了函数，但 TypeScript 仍需要明确这些函数在子组件中的类型，以确保调用时的类型安全。</li></ul></li><li><strong>类型声明的重要性</strong><ul><li>当子组件调用从父组件提供的函数时，TypeScript 不会自动推断出该函数的参数和返回值类型。子组件必须显式地声明这些类型，以确保在调用时符合预期的类型。这是因为 TypeScript 只在定义时检查类型，而不是在运行时。</li></ul></li><li><strong>接口或类型的使用</strong><ul><li>为了提高代码的可维护性和可读性，通常会在父组件中定义一个接口（如 <code>PopupContext</code>），描述提供的函数的类型。子组件在使用 <code>inject</code> 时，可以将这个接口作为类型断言，从而明确调用该函数时应遵循的类型约定。</li></ul></li><li><p><strong>示例</strong></p><p>在使用 provide 时，进行类型检查，以使其只能传入特定类型的数据</p><p>在使用 inject 时，能够获取数据类型</p><p>假设在父组件中定义了一个函数并提供了类型：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 父组件定义方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">closeCitySwitch</span> = (<span class="params">name: string</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (name) &#123;</span><br><span class="line">    store.<span class="title function_">setCityValue</span>(name)</span><br><span class="line">  &#125;</span><br><span class="line">  state.<span class="property">citySwitch</span> = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"># 通过<span class="string">&#x27;popup&#x27;</span>向子组件暴露这个方法</span><br><span class="line"><span class="title function_">provide</span>(<span class="string">&#x27;popup&#x27;</span>, &#123;</span><br><span class="line">  closeCitySwitch</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在子组件中，需要显式地声明其类型：</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 子组件中，需要再次声明一个函数的类型</span></span><br><span class="line">interface <span class="title class_">PopupContext</span> &#123;</span><br><span class="line">  <span class="attr">closeCitySwitch</span>: <span class="function">(<span class="params">cityName?: string</span>) =&gt;</span> <span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注入父组件暴露出来的 &#x27;popup&#x27; 函数，并进行类型断言</span></span><br><span class="line"><span class="keyword">const</span> popupContext = <span class="title function_">inject</span>(<span class="string">&#x27;popup&#x27;</span>) <span class="keyword">as</span> <span class="title class_">PopupContext</span> | <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 检查 popupContext 是否存在</span></span><br><span class="line"><span class="keyword">if</span> (!popupContext) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;popup is not provided&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; closeCitySwitch &#125; = popupContext <span class="comment">// 解构出 closeCitySwitch，在子组件调用</span></span><br></pre></td></tr></table></figure></li><li><p><strong>总结</strong></p><p>在 TypeScript 中，尽管父组件通过 <code>provide</code> 提供了函数，子组件仍然需要显式声明类型。这并不是因为语言的局限性，而是为了确保类型的明确性和代码的可维护性。这种方式使得代码更健壮，开发者能够快速了解和检查函数的使用方式。</p></li></ol><details class="folding-tag" ><summary> 实战中的使用技巧 </summary>              <div class='content'>              <p><code>provide</code> 可以直接将父组件中定义的接口类型实例传递出去，这样子组件在 <code>inject</code> 时也可以利用同样的类型接口。这里是一个完整示例：</p><p><strong>示例：父组件中定义并提供接口实例</strong></p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">UserContext</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">  <span class="attr">updateUser</span>: <span class="function">(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件中创建一个符合接口的对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userContext</span>: <span class="title class_">UserContext</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">updateUser</span>: <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`User updated to <span class="subst">$&#123;name&#125;</span>, <span class="subst">$&#123;age&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 provide 传递接口实例</span></span><br><span class="line"><span class="title function_">provide</span>(<span class="string">&quot;userContext&quot;</span>, userContext)</span><br></pre></td></tr></table></figure><p><strong>子组件中接收并使用</strong></p><p>在子组件中使用 <code>inject</code> 时，可以直接将 <code>inject</code> 的类型声明为 <code>UserContext</code>，确保代码安全并享受类型推导的好处。</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在子组件中 inject 并指定类型</span></span><br><span class="line"><span class="keyword">const</span> userContext = inject&lt;<span class="title class_">UserContext</span>&gt;(<span class="string">&quot;userContext&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (userContext) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(userContext.<span class="property">name</span>)       <span class="comment">// 自动提示 name 属性</span></span><br><span class="line">  userContext.<span class="title function_">updateUser</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">25</span>)   <span class="comment">// 自动提示 updateUser 方法和其参数类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>工作原理：</p><ul><li><strong>父组件</strong>通过 <code>provide</code> 将 <code>userContext</code> 作为类型为 <code>UserContext</code> 的对象传出。</li><li><strong>子组件</strong>通过 <code>inject&lt;UserContext&gt;</code> 使用该类型，使 TypeScript 知道 <code>userContext</code> 的属性和方法类型。</li></ul><p>好处：</p><p>这种方式的好处在于：</p><ul><li>子组件直接继承了父组件的类型定义，避免重复声明。</li><li>IDE 和 TypeScript 提供的自动补全和类型检查功能在子组件中也能正常工作。</li></ul><p>这种做法让父子组件在 <code>provide</code>/<code>inject</code> 的类型上保持一致，确保了良好的代码可维护性和类型安全性。</p>              </div>            </details><details class="folding-tag" ><summary> symbol 处理 </summary>              <div class='content'>              <p><strong>为什么使用 <code>Symbol</code>？</strong></p><ol><li><p><strong>避免命名冲突：</strong></p><ul><li>如果你的应用中有多个 <code>provide</code> 使用了相同的键，可能会导致冲突。</li><li><code>Symbol</code> 生成的是唯一的标识符，能有效避免这种问题。</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const MyKey = Symbol(&#x27;MyUniqueKey&#x27;);</span><br><span class="line">app.provide(MyKey, someValue);</span><br></pre></td></tr></table></figure></li><li><p><strong>代码安全性：</strong></p><ul><li>使用字符串作为键时，可能被无意间覆盖。</li><li><code>Symbol</code> 键能降低被误用或覆盖的风险。</li></ul></li><li><p><strong>提升代码可维护性：</strong></p><ul><li>使用 <code>Symbol</code> 时，键通常会用常量声明，使代码更加规范。</li></ul></li></ol><hr><p>是否必须使用 <code>Symbol</code>？</p><ul><li><p><strong>不是必须的。</strong></p><ul><li>如果你只是在一个简单的上下文中使用（如没有深层嵌套或复杂依赖），字符串键是完全可以的。</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 提供一个值</span><br><span class="line">app.provide(&#x27;myKey&#x27;, someValue);</span><br><span class="line"></span><br><span class="line">// 子组件注入</span><br><span class="line">const injectedValue = inject(&#x27;myKey&#x27;);</span><br></pre></td></tr></table></figure></li><li><p><strong>推荐使用 Symbol 的场景：</strong></p><ol><li><strong>大型应用或复杂组件树：</strong> 有很多依赖注入的场景。</li><li><strong>第三方库开发：</strong> 避免用户无意中覆盖注入的值。</li><li><strong>共享依赖：</strong> 不同的开发者团队可能会定义相同的字符串键。</li></ol></li></ul><hr><p>使用示例</p><p>使用字符串键</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 父组件</span><br><span class="line">app.provide(&#x27;myKey&#x27;, &#x27;someValue&#x27;);</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">const value = inject(&#x27;myKey&#x27;); // &#x27;someValue&#x27;</span><br></pre></td></tr></table></figure><p>使用 Symbol 键</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 定义唯一的 Symbol</span><br><span class="line">const MyKey = Symbol(&#x27;MyUniqueKey&#x27;);</span><br><span class="line"></span><br><span class="line">// 父组件</span><br><span class="line">app.provide(MyKey, &#x27;someValue&#x27;);</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">const value = inject(MyKey); // &#x27;someValue&#x27;</span><br></pre></td></tr></table></figure><hr><p>结论</p><ul><li><strong>简单应用</strong>：可以直接使用字符串。</li><li><strong>复杂或潜在冲突场景</strong>：建议使用 <code>Symbol</code>，更安全且维护性更好。</li></ul><p>ps: 中大型项目或多人协作</p><ul><li><strong>推荐将 Symbol 键集中管理</strong>：新建一个专门的文件存放所有的 <code>Symbol</code> 键，可以避免键重复、命名混乱和跨模块依赖问题。</li><li>文件结构建议：<ul><li>将所有 <code>Symbol</code> 键集中定义在一个文件中，例如 <code>keys.js</code> 或 <code>injectionKeys.js</code>。</li><li>根据功能模块，适当分层管理。</li></ul></li></ul>              </div>            </details>
              </div>
            </details>
<p>数据的本地化存储</p>
<details class="folding-tag" ><summary> 基于 pinia defineStore </summary>
              <div class='content'>
              <p>首先，基于 pinia 的 defineStore 创建一个独立的 store 模块</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 本项目实战中 /src/stores/task.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 既然是 ts ，那就需要对存进来的数据类型进行声明</span></span><br><span class="line"><span class="comment">// 定义 City 类型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">City</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向 state 存数据时, 同样需要对类型进行定义</span></span><br><span class="line"><span class="comment">// 这是 banner 数据类型声明</span></span><br><span class="line"><span class="keyword">interface</span> getBanner &#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">  <span class="attr">picture</span>: <span class="built_in">string</span> | <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是职位列表的 state 数据类型声明</span></span><br><span class="line"><span class="keyword">interface</span> getPosition &#123;</span><br><span class="line">  name</span><br><span class="line">  children</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 正如下面展示的那样，分别提供了 state 和 actions</span><br><span class="line"># 在 <span class="title class_">Pinia</span> 中，state 和 actions 之间的关系类似于 <span class="title class_">Vuex</span> 中的 state 和 mutations/actions。<span class="title class_">Pinia</span> 是一种更轻量、模块化的状态管理工具，用于替代 <span class="title class_">Vuex</span>。</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单来说，state 用来存储数据，而 actions 是用于定义业务逻辑和对 state 数据进行更新的地方，在 Pinia 中，不需要像 Vuex 那样通过 mutations 来更新 state，可以直接在 actions 中修改 state。</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> taskStore = <span class="title function_">defineStore</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;task&#x27;</span>,</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">cityValue</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;city&#x27;</span>) || <span class="string">&#x27;東京都&#x27;</span>,</span><br><span class="line">      <span class="attr">cityList</span>: [] <span class="keyword">as</span> <span class="title class_">City</span>[], <span class="comment">// 使用 City 数组类型</span></span><br><span class="line">      <span class="attr">bannerList</span>: [] <span class="keyword">as</span> getBanner[],</span><br><span class="line">      <span class="attr">positionValue</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;positionValue&#x27;</span>) || <span class="string">&#x27;フランドエンド&#x27;</span>, <span class="comment">// 从 localStorage 获取初始值</span></span><br><span class="line">      <span class="attr">positionList</span>: [] <span class="keyword">as</span> getPosition[]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">setCityValue</span>(<span class="params"><span class="attr">value</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cityValue</span> = value</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;city&#x27;</span>, value) <span class="comment">// 将新的 cityValue 存入 localStorage</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setCityList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cityList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setBannerList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">bannerList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setPositionList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">positionList</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setPositionValue</span>(<span class="params"><span class="attr">p</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">positionValue</span> = p</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;positionValue&#x27;</span>, p)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>组件中，通过定义请求函数拿到返回结果之后，通过 store 暴露出来的方法，更新 state 中的数据</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 组件中发起 api 请求，拿到数据</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getPositionList</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">positionList</span>()</span><br><span class="line">  <span class="keyword">if</span> (res) &#123;</span><br><span class="line">    store.<span class="title function_">setPositionList</span>(res) # 调用 pinia 组件中的 actions 方法</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Toast</span>(<span class="string">&#x27;到这里出错了&#x27;</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>前面这些步骤做好了之后，即可以在 actions 中，轻松的实现本地化存储</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例如，本项目实战中 /src/stores/task.ts </span></span><br><span class="line"><span class="title function_">setPositionValue</span>(<span class="params">p: string</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">positionValue</span> = p # 组件中获取的数据传回 store 模块，并使用 actions 中的方法将数据更新至 state，这一步，是为了实现页面中的数据实时更新</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;positionValue&#x27;</span>, p) # 与此同时，将新数据本地化存储</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>state 中：虽然实时更新了数据，但，当页面刷新后，state 会优先从本地取先前存进去的数据。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">cityValue</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;city&#x27;</span>) || <span class="string">&#x27;東京都&#x27;</span>,</span><br><span class="line">      <span class="attr">cityList</span>: [] <span class="keyword">as</span> <span class="title class_">City</span>[], <span class="comment">// 使用 City 数组类型</span></span><br><span class="line">      <span class="attr">bannerList</span>: [] <span class="keyword">as</span> getBanner[],</span><br><span class="line">      <span class="attr">positionValue</span>: <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;positionValue&#x27;</span>) || <span class="string">&#x27;フランドエンド&#x27;</span>, <span class="comment">// 从 localStorage 获取初始值</span></span><br><span class="line">      </span><br><span class="line">      # 需要充分考虑这种情况, 有些数据并无必要存在本地, 例如刷新页面后希望显示全部数据的这种情况, 本项目中, 如positionValue 存在本地, 且设置优先取用本地存储的 value 值, 这么刷新页面后, 无法加载全部数据, 对于本身数据就不多的测试项目而言, 是不利于项目展示和测试的, 因此在实际项目中不再将 positionValue 存在本地</span><br></pre></td></tr></table></figure>
              </div>
            </details>
<h2 id="下拉刷新和滚动加载"><a href="#下拉刷新和滚动加载" class="headerlink" title="下拉刷新和滚动加载"></a>下拉刷新和滚动加载</h2><details class="folding-tag" ><summary> 借助 vant ui 中的 组件实现这一功能 - 点击查看详情 </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 页面结构如下</span></span><br><span class="line"><span class="comment">// List 会监听浏览器的滚动事件并计算列表的位置 - @load=&quot;onLoad&quot;</span></span><br><span class="line"><span class="comment">// 当列表底部与可视区域的距离小于 offset（默认值为 300 ）时</span></span><br><span class="line"><span class="comment">// List 会触发一次 load 事件</span></span><br><span class="line"><span class="comment">// 最佳实践中, 还可以将父组件 pull-refresh 中的 -v-model 和 list 组件中的 v-model 合并成一个状态变量，以简化代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件 v-model 的作用: 控制下拉的刷新状态, 当达到触发条件后, 组件自动将 v-model 的值设置为 true ,实测并不会触发 @refresh 方法, 该方法仅在下拉时触发,因此推断 v-model 仅用来控制下拉效果的, 在该方法的最后, 需要手动设置 v-model 的值为 false 通知组件刷新结束并复位，如果没有手动设置这个值，那么下拉组件会持续停在下拉状态而不能复位，特此留个记号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件 list 中的 v-model作用: 控制组件列表的加载状态, 当列表滚动到底部时，组件会自动将 loading 设置为 true 并触发 @load 事件。处理完加载逻辑后，开发者需要手动将 loading 设置为 false，以告知组件加载完成，允许继续触发新的加载请求。</span></span><br><span class="line">&lt;van-pull-refresh v-model=<span class="string">&quot;state.loading&quot;</span> success-text=<span class="string">&quot;刷新成功&quot;</span> @refresh=<span class="string">&quot;onRefresh&quot;</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">van-list</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">v-model:loading</span>=<span class="string">&quot;state.loading&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">:finished</span>=<span class="string">&quot;state.finished&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">finished-text</span>=<span class="string">&quot;没有更多了&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">load</span>=<span class="string">&quot;onLoad&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">TaskList</span> <span class="attr">:task-list</span>=<span class="string">&quot;state.taskList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">TaskList</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;!state.loading &amp;&amp; state.taskList.length == 0&quot;</span> <span class="attr">class</span>=<span class="string">&quot;wy-no-data&quot;</span>&gt;</span>暂无数据<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">van-list</span>&gt;</span></span></span><br><span class="line">    &lt;/van-pull-refresh&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// List 会监听浏览器的滚动事件并计算列表的位置 - @load=&quot;onLoad&quot;</span></span><br><span class="line"><span class="comment">// 当列表底部与可视区域的距离小于 offset 时，List 会触发一次 load 事件</span></span><br><span class="line"><span class="comment">// 经过实测, onLoad 函数在页面加载时会首先自动执行一次</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onLoad</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  state.<span class="property">pageNum</span> = state.<span class="property">pageNum</span> + <span class="number">1</span> </span><br><span class="line">  <span class="comment">// 正因为 onLoad 的自动执行, 导致首次调用 getTaskAllList() 函数前</span></span><br><span class="line">  <span class="comment">// 给 pageNum 赋值为 1 , 因此应设置state中 pageNum 的值为 0 </span></span><br><span class="line">  <span class="comment">// 这样一来, 首次请求既可以获取 pageSize 中规定的第一页数据量</span></span><br><span class="line">  <span class="title function_">getTaskAllList</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;看看onLoad是否一进页面就执行&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onRefresh</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;onRefresh执行了&#x27;</span>)</span><br><span class="line">  state.<span class="property">pageNum</span> = <span class="number">1</span></span><br><span class="line">  <span class="title function_">getTaskAllList</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @finished: 是否已加载完成，加载完成后不再触发 load 事件, 默认值为 false (表示状态为可触发) /</span></span><br></pre></td></tr></table></figure>
              </div>
            </details>
<h2 id="底部tabbar-向下滑动时的隐藏效果设计与实现"><a href="#底部tabbar-向下滑动时的隐藏效果设计与实现" class="headerlink" title="底部tabbar - 向下滑动时的隐藏效果设计与实现"></a>底部tabbar - 向下滑动时的隐藏效果设计与实现</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; ref, onMounted, onUnmounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 控制 FooterTabbar 的显示与隐藏</span></span><br><span class="line"><span class="keyword">const</span> showFooter = <span class="title function_">ref</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">let</span> lastScrollTop = <span class="number">0</span> <span class="comment">// 上一次的滚动位置</span></span><br><span class="line"><span class="comment">// eslint-disable-next-line no-undef</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">scrollTimeout</span>: <span class="title class_">NodeJS</span>.<span class="property">Timeout</span> | <span class="literal">null</span> = <span class="literal">null</span> <span class="comment">// 用于监听停止滚动的定时器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 滚动事件逻辑</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (scrollTop &gt; lastScrollTop) &#123;</span><br><span class="line">    <span class="comment">// 向下滚动，隐藏 Footer</span></span><br><span class="line">    showFooter.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (scrollTop &lt; lastScrollTop) &#123;</span><br><span class="line">    <span class="comment">// 向上滚动，显示 Footer</span></span><br><span class="line">    showFooter.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置停止滚动后的逻辑</span></span><br><span class="line">  <span class="keyword">if</span> (scrollTimeout) <span class="built_in">clearTimeout</span>(scrollTimeout)</span><br><span class="line">  scrollTimeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    showFooter.<span class="property">value</span> = <span class="literal">true</span> <span class="comment">// 停止滚动后归位</span></span><br><span class="line">  &#125;, <span class="number">900</span>)</span><br><span class="line"></span><br><span class="line">  lastScrollTop = scrollTop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听滚动事件</span></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, handleScroll)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, handleScroll)</span><br><span class="line">  <span class="keyword">if</span> (scrollTimeout) <span class="built_in">clearTimeout</span>(scrollTimeout)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">RouterView</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;footer-transition&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 动态显示 FooterTabbar --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">FooterTabbar</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">v-show</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        showFooter &amp;&amp;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        !$route.path.startsWith(&#x27;/login&#x27;) &amp;&amp;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        !$route.path.startsWith(&#x27;/task/TaskDetails&#x27;)</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">      &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 过渡动画 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-enter-active</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-leave-active</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">transition</span>:</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    transform <span class="number">1s</span> ease,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    opacity <span class="number">1s</span> ease;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 隐藏时向下滑动并变透明 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-enter-from</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-leave-to</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100%</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 显示时恢复正常位置 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-enter-to</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.footer-transition-leave-from</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>ps : 需要在 env.d.ts 文件中进行node类型声明</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span><br><span class="line">/// &lt;reference types=&quot;node&quot; /&gt;</span><br></pre></td></tr></table></figure><p><code>onMounted</code> 和 <code>onUnmounted</code> 是 Vue 3 中的生命周期钩子，分别用于在组件挂载（即插入 DOM）和卸载（即从 DOM 中移除）时执行特定的操作。</p><p>在组件挂载时添加事件监听器（比如监听滚动事件）并在组件卸载时移除它们，此时的 <code>onMounted</code> 和 <code>onUnmounted</code> 是必须的。否则，当页面跳转或组件销毁时，这些事件监听器就会留下来，可能会导致内存泄漏或不必要的性能开销。</p><p>如果你不需要做类似的初始化或清理操作，那么可以删去 <code>onMounted</code> 和 <code>onUnmounted</code>，不影响功能。</p><p>但，根据最佳实践，肯定是要保留的啦！</p>
              </div>
            </details>
<h2 id="常见报错"><a href="#常见报错" class="headerlink" title="常见报错"></a>常见报错</h2><details class="folding-tag" ><summary> 点击查看详情 </summary>
              <div class='content'>
              <details class="folding-tag" ><summary> - 类型“AxiosResponse<any>”上不存在属性“errCode”。ts-plugin(2339) </summary>              <div class='content'>              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 根据 chatgpt 最佳实践</span></span><br><span class="line"><span class="comment">// 在项目根目录创建 axios.d.ts 文件：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line">declare <span class="variable language_">module</span> <span class="string">&#x27;axios&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">AxiosResponse</span>&lt;T = any&gt; &#123;</span><br><span class="line">    errCode?: number;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 axios.d.ts 文件中的代码即使添加了注释也会生效，因为 d.ts 文件的主要作用是声明类型，并不会参与实际的运行时逻辑。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 d.ts 文件中，注释的内容通常不会影响 TypeScript 对类型的理解。声明文件中的类型声明会自动被 TypeScript 拓展到项目中的所有代码，因此即便在 axios.d.ts 文件里加注释，TypeScript 仍会识别其中的类型扩展。</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> -无法找到模块 vite-plugin-eslint 插件中的 TS 声明文件 </summary>              <div class='content'>              <p>关于在 vite.config.ts 中引入 vite-plugin-eslint 插件，出现如下报错：<br>无法找到模块 vite-plugin-eslint 插件中的 TS 声明文件，隐式含有 “any” 类型。</p><p>我们可以得到在该插件中是含有 TS 声明文件的，vite-plugin-eslint/dist/index.d.ts，但是由于 TypeScript 的变更，导致新版本的 typescript 与依赖包中 package.json 指明 TS 声明文件位置的 types 配置项不匹配，最终导致新版本的 TypeScript 找不到 vite-plugin-eslint 插件中的 TS 声明文件。<br>在新版的 TypeScript 中，已经不再使用 package.json 文件中根结构中的 types 字段指明 TS 声明文件位置，而是在 exprots 中相应的导入方式中添加 typs 字段指明 TS 声明文件位置。</p><p>我这里的解决方法是<span class="hidden-anchor" id="referto_[1]">&lt;/span&gt;<sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">vite-plugin-eslint 插件报错</span><span class="reference-title">参考资料</span>&lt;/span&gt;&lt;/span&gt;，在 node_modules 中找到 vite-plugin-eslint 插件的 package.json 文件，将其中的 exports 字段修改为如下内容，让新版的 TypeScript 在使用 import 导入时能够找到 vite-plugin-eslint 插件中的 TS 声明文件。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;exports&quot;: &#123;</span><br><span class="line">  &quot;.&quot;: &#123;</span><br><span class="line">    &quot;import&quot;: &#123;</span><br><span class="line">      &quot;types&quot;: &quot;./dist/index.d.ts&quot;,</span><br><span class="line">      &quot;default&quot;: &quot;./dist/index.mjs&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;require&quot;: &quot;./dist/index.js&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>修改完成后，重启 ide 就不报错了。</p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" target="_blank" rel="noopener" href="https://blog.csdn.net/m0_53022813/article/details/137379480">vite-plugin-eslint 插件报错</a></div>              </div>            </details>
              </div>
            </details>
<p>到这里，项目的创建和最基础的开发配置已经完成了，后面继续整理项目的具体业务逻辑实现！</p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Vue3.2+Vite+Typescript 开发（一）</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://youruilin.github.io/posts/976198b5/">https://youruilin.github.io/posts/976198b5/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>游瑞林</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2024-10-20</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2025-05-08</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-left" href="/posts/42edf4c9/" title="日本語能力練習"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">前へ</div><div class="prev_info">日本語能力練習</div></div></a><a class="next-post pull-right" href="/posts/48e28a7b/" title="git 常用命令"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">次へ</div><div class="next_info">git 常用命令</div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>関連記事</span></div><div class="relatedPosts-list"><a href="/posts/f3ee6f99/" title="Vue3.2+Vite+Typescript 开发（二）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-18</div><div class="title">Vue3.2+Vite+Typescript 开发（二）</div></div></a><a href="/posts/7259d1a8/" title="try...catch 和 Promise"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-10</div><div class="title">try...catch 和 Promise</div></div></a><a href="/posts/976198b4/" title="后台数据管理系统-项目架构设计"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-13</div><div class="title">后台数据管理系统-项目架构设计</div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> コメント</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目次</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-text">项目创建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vite-%E3%82%92%E4%BD%BF%E3%81%86%E7%90%86%E7%94%B1"><span class="toc-text">Vite を使う理由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%8F%E9%A1%8C%E7%82%B9"><span class="toc-text">問題点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%B0%E5%AE%9E%E9%97%AE%E9%A2%98"><span class="toc-text">现实问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%85%E3%81%84%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95"><span class="toc-text">遅いサーバー起動</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%85%E3%81%84%E6%9B%B4%E6%96%B0%E9%80%9F%E5%BA%A6"><span class="toc-text">遅い更新速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%83%97%E3%83%AD%E3%83%80%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7%E3%81%AF%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%99%E3%82%8B%E7%90%86%E7%94%B1"><span class="toc-text">プロダクションではバンドルする理由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%81%AA%E3%81%9C-esbuild-%E3%81%A7%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%97%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B%EF%BC%9F"><span class="toc-text">なぜ esbuild でバンドルしないのか？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFTypeScript"><span class="toc-text">什么是TypeScript?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-text">初始化项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git%E5%8D%8F%E4%BD%9C"><span class="toc-text">git协作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-hooks"><span class="toc-text">git hooks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rem%E9%80%82%E9%85%8D-amp-amp-%E8%B7%AF%E5%BE%84%E5%88%AB%E5%90%8D"><span class="toc-text">rem适配 &amp;&amp; 路径别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#eslint%EF%BC%8Cprettier"><span class="toc-text">eslint，prettier</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vueuse-%E5%B7%A5%E5%85%B7%E9%9B%86-amp-pinia-%E7%8B%AC%E7%AB%8B%E7%BB%B4%E6%8A%A4-amp-vant-3"><span class="toc-text">vueuse 工具集 &amp; pinia 独立维护 &amp; vant 3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text">请求拦截器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84-%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99"><span class="toc-text">快速创建文件结构-路由规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%97%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">接受路由参数的三种方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85-%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-text">组件封装 - 实用技巧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#api-%E8%AF%B7%E6%B1%82%E5%89%8D%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-text">api 请求前的类型声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#state-amp-defineProps-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-text">state &amp; defineProps 中的数据类型声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#provide-inject-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E6%8F%90%E4%BE%9B%E6%96%B9%E6%B3%95%E6%97%B6%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-text">provide &#x2F; inject 依赖注入 - 父组件向子组件提供方法时的类型声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%E5%92%8C%E6%BB%9A%E5%8A%A8%E5%8A%A0%E8%BD%BD"><span class="toc-text">下拉刷新和滚动加载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E9%83%A8tabbar-%E5%90%91%E4%B8%8B%E6%BB%91%E5%8A%A8%E6%97%B6%E7%9A%84%E9%9A%90%E8%97%8F%E6%95%88%E6%9E%9C%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-text">底部tabbar - 向下滑动时的隐藏效果设计与实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99"><span class="toc-text">常见报错</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">魔改指南</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/personal/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/Gallery/">我的画廊</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/site/time/">建设进程</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="Fomalhaut🥝"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/img/avatar.webp" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://tzy1997.com/" title="唐志远の博客"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2022/05/02/626f92e193879.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://akilar.top/" title="Akilarの糖果屋"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/6bf1ed05796db59c.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://butterfly.js.org/" title="Butterfly"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/64cc6a7d508026e1.png" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://anzhiy.cn/" title="安知鱼"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.bitiful.net/img/anzhiyu.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://akilar.top/link/" title="Acozycotage"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://akilar.top/img/siteicon/favicon.png" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://blog.bywind.xyz/" title="随风起"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.bywind.xyz/img/avatar.png" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="张洪"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2022/12/28/63ac2812183aa.png" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2019 - 2025</b></span><span><b>&nbsp;&nbsp;By 游瑞林</b></span></div><div class="framework-info"><span>フレームワーク </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>テーマ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v7.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v5.0.0-b1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="本站采用双线部署，联通线路托管于Coding"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="本站使用网盾星球提供CDN加速与防护"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="読書モード"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="簡体字と繁体字の切り替え">繁</button><a class="icon-V hidden" onclick="switchNightMode()" title="ライトモード/ダークモード切り替え"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="シングルカラムとダブルカラムの切り替え"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="コメントへ移動"><i class="fas fa-comments"></i></a><button id="hide-aside-btn" type="button" title="シングルカラムとダブルカラムの切り替え"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目次"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="トップに戻る"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>(() => {
  const panguFn = () => {
    if (typeof pangu === 'object') pangu.autoSpacingPage()
    else {
      btf.getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
        .then(() => {
          pangu.autoSpacingPage()
        })
    }
  }

  const panguInit = () => {
    if (false){
      GLOBAL_CONFIG_SITE.isPost && panguFn()
    } else {
      panguFn()
    }
  }

  btf.addGlobalFn('pjaxComplete', panguInit, 'pangu')
  document.addEventListener('DOMContentLoaded', panguInit)
})()</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-zeta-coral.vercel.app/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-zeta-coral.vercel.app/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script src="/js/random.js"></script><script src="//at.alicdn.com/t/c/font_4684778_183q7j85b02.js"></script><script defer src="/js/runtime.js"></script><script defer src="/js/tooltip.js"></script><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script defer data-pjax src="/js/txmap.js"></script><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script async src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/index.js"></script><script defer src="/js/custom.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.19.0/sweetalert2.all.min.js"></script><script defer src="/js/lunar.js"></script><script defer src="/js/day.js"></script><script src="/js/sun_moon.js" async></script><script src="/js/f12.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script async src="/js/console.js"></script><script data-pjax src="/js/nav.js"></script><script async src="/js/fps.js"></script><script async src="/js/title.js"></script><script async data-pjax src="/js/meting_js.js"></script><script async data-pjax src="/js/music.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

const triggerPjaxFn = (val) => {
  if (!val) return
  Object.values(val).forEach(fn => { fn() })
}

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjaxSendOnce')
  btf.removeGlobalFnEvent('themeChange')

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  triggerPjaxFn(window.globalFn.pjaxSend)
})

document.addEventListener('pjax:complete', () => {
  btf.removeGlobalFnEvent('pjaxCompleteOnce')
  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  triggerPjaxFn(window.globalFn.pjaxComplete)
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">検索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  データベースを読み込んでいます</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search..." type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://youruilin.github.io/categories/日语/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 日本語能力練習している (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youruilin.github.io/categories/hexo/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 hexo_blog 搭建全过程 (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youruilin.github.io/categories/前端开发/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 Vite + vue3 + ts 双端招聘项目 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youruilin.github.io/categories/git/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 git 相关 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://youruilin.github.io/categories/后端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 后端 api_server (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://youruilin.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #49b1f5}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/d711a81c/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://github.com/youruilin/pic_bed/blob/main/bcg_img/%E5%92%8C%E9%A3%8E%E5%B7%A5%E4%BD%9C%E5%8F%B0%E9%9D%A2.jpg?raw=true" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-05-19</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/d711a81c/&quot;);" href="javascript:void(0);" alt="">日本語勉強している·頑張れ！</a><div class="blog-slider__text">记录学习日语的全过程, 保持不断地学习..</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/d711a81c/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/629f32c0/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/medium/38/53/e2ec8d2bd090dd1321fa01254923.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-07-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/629f32c0/&quot;);" href="javascript:void(0);" alt="">双招项目后端api全过程实现</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/629f32c0/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/7f37c772/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://lychee.iooio.cn:9527/uploads/original/3d/44/667fa779ad75e6062e263075a028.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-07-22</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/7f37c772/&quot;);" href="javascript:void(0);" alt="">ec2使用docker部署lychee图床全过程记录</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/7f37c772/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"log":false});</script></body></html>